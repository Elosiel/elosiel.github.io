define("delivery/mixin",[],function(){"use strict";return function(a){for(var b in this)if(this.hasOwnProperty(b)){if(a.hasOwnProperty(b))throw new Error(a.toString()+" already has property "+b);a[b]=this[b]}}}),define("delivery/registry",["delivery/mixin"],function(a){"use strict";function b(){function b(a){for(var b in c)c.hasOwnProperty(b)&&c[b].state.dispatch("registry",a)}var c={};this.register=function(a){var d=a.rid;if(!c.hasOwnProperty(d)){var e=function(){delete c[d]};a.addListener("supervisor","unload",e),a.addListener("site","unload",e),a.addListener("loader","registrymessage",function(a){b(a.message)})}c[d]={state:a,last:c[d]}},this.clear=function(a){c.hasOwnProperty(a)&&delete c[a]},this.clearAll=function(){for(var a in c)delete c[a]},this.session=function(a){return c[a]&&c[a].state},this.messageAll=b,this.mixin=a}return new b}),define("phxAds/services/phxAdvertising",["delivery/registry"],function(a){"use strict";return["$q","$window","$document","Config","$rootScope","phxUtil","phxEvents","phxCategorizr","phxBaseAdImpl","phxBootscriptAdImpl",function(b,c,d,e,f,g,h,i,j,k){function l(a){function c(){var b=new j.getImplementation(h);return a.adSupported?new k.getImplementation(h):b}this.page=a,this.renderQueue=[];var d,h=this,l={sidebar:0},m=c();this.renderAds=function(){var a=this.renderQueue;this.renderQueue=[],a&&m.renderAds(a)},this.createAdSlot=function(c){if(a.sponsorship&&(!d.hasOwnProperty(c.type)||d[c.type]!==!0))return b.when(null);if(void 0===c.index&&(c.adzonePosition in l||(l[c.adzonePosition]=-1),c.index=l[c.adzonePosition]+=1),0===c.adSizes.length)if("fixed_bottom"===c.adzonePosition){var g=["320x60","768x66","900x65"];i.isPhone()?c.adSizes.push(g[0]):i.isTablet()?c.adSizes.push(g[1]):i.isDesktop()?c.adSizes.push(g[2]):c.adSizes=g}else c.adSizes.push(c.dimensions);var h=b.defer(),j={adindex:c.index,adSizes:c.adSizes,adzone:c.adzonePosition,beaconParameters:c.beaconParameters,context:this,defer:h,hostname:e.siteProductionDomain,node:c.element,section:c.section,sections:c.sections,pageType:c.pageType,terms:c.beaconParameters.terms,destroy:angular.noop,adZoneVisible:angular.noop,adzoneType:c.type,language:q,dimensions:c.dimensions};c.beaconParameters&&c.beaconParameters.terms&&(j.terms=c.beaconParameters.terms);var k=this;return b.all([m.getDemos(p.alias),m.getDemos(p.beaconDemo)]).then(function(a){return m.fillAdSlot(j,a[0],a[1])},function(a){console.log("error obtaining demo targets",a)}).then(function(a){return 0===k.renderQueue.length&&f.$evalAsync(k.renderAds.bind(k)),k.renderQueue.push(a),h.promise})};var n=e.ad.fixedBottom;this.fixedBottomAdsEnabled=e.ad.integrations.pigeon.fixedBottom&&(i.isMobile()||n&&n.enabled&&(a.isDetailPage&&n.enabled.indexOf("detail")>-1||!a.isDetailPage&&n.enabled.indexOf("hub")>-1));var o=e.ad.siteSkin;this.siteSkinAdsEnabled=i.isDesktop()&&o&&o.enabled&&(a.isDetailPage&&o.enabled.indexOf("detail")>-1||!a.isDetailPage&&o.enabled.indexOf("hub")>-1);var r=e.ad.integrations.pigeon;this.interstitialsEnabled=r&&r.interstitial&&!g.isGalleryView(a),m.createPage(this.page)}function m(a,b){c.postMessage&&c.postMessage(a,b)}function n(a,b,c){(a+b)/c>=s&&(m("show_3rd_party_slidein_ad","*"),r&&r())}var o={"tgx-ads":{alias:"time",beaconDemo:"none"}},p={};angular.forEach(o,function(a,b){b===e.ad.adServer&&(p=a)});var q=e.locale?e.locale.substr(0,2):"en";f.$on("phxCollection:enterFullscreen",function(){a.messageAll("hidefixed"),m("hide_3rd_party_adhesion_ad","*")}),f.$on("phxCollection:exitFullscreen",function(){a.messageAll("unhidefixed"),m("unhide_3rd_party_adhesion_ad","*")}),h.$on("resize",function(){m("sm_lyra_relayout","*")});var r,s=1/3;return n(c.scrollY,c.outerHeight,d.height()),r=h.$on("scroll",function(a,b){n(b.pageYOffset,b.windowHeight,b.documentHeight)}),{createContextForPage:function(a){return new l(a)}}}]}),define("phxAds/services/phxSponsorships",[],function(){"use strict";return["$rootScope",function(a){var b=function(b){if(!b)return!1;var c=a.currentTime;if(!b.startTime)return!1;var d=new Date(b.startTime);if(c<d.getTime())return!1;if(b.endTime){var e=new Date(b.endTime);if(c>e.getTime())return!1}return!0},c=function(a){return b(a.branding)?{reporting:a.reporting,sectionBrandingBadge:a.branding.topBadge,sponsorshipType:"section"}:null},d=function(a){var b,d=a.primarySectionIds||[],e={};angular.forEach(a.associatedRichTerms||[],function(a){e[a.id]=a});for(var f=d.length-1;f>=0;f--){var g=e[d[f]];if(g&&(b=c(g)))return b}return null};return{getSponsorshipForContentItem:function(a){if("ContentRichTerm"===a.objectType){for(var b=[a].concat(a.ancestors||[]),e=0;e<b.length;e++){var f=b[e],g=c(f);if(g)return g}return null}return a.isSponsored?{reporting:a.reporting,sponsorshipType:"item"}:d(a)}}}]}),define("phxAds/services/phxAdUtils",[],function(){"use strict";return[function(){function a(a){return a.replace(/["'=!+#*~;^()<>\[\],&]/g,"")}function b(a){return a.sponsorship&&a.sponsorship.reporting&&a.sponsorship.reporting.opportunityLineItemId}function c(a){return a&&a.page&&b(a.page)}return{isContextSponsored:c,isItemSponsored:b,sanitizeTargetingValue:a}}]}),define("phxAds/services/phxBaseAdImpl",[],function(){"use strict";return["$q",function(a){function b(b){this.createPage=function(a){},this.getDemos=function(b){return a.when(void 0)},this.fillAdSlot=function(b,c){return b.defer&&b.defer.resolve(null),a.when(null)},this.renderAds=function(a){}}return{getImplementation:function(a){return new b(a)}}}]}),define("phxAds/services/phxBootscriptAdImpl",[],function(){"use strict";var a=0;return["$q","$window","phxAdUtils",function(b,c,d){function e(e){this.getDemos=function(){return b.when()},this.createPage=angular.noop,this.fillAdSlot=function(g,h,i){var j=++a,k=d.sanitizeTargetingValue(g.adzone),l=document.createElement("div");if(e.containerClassName&&(l.className=e.containerClassName),e.containerStyle)for(var m in e.containerStyle)e.containerStyle.hasOwnProperty(m)&&(l.style[m]=e.containerStyle[m]);var n=document.createElement("div");n.id="ad-"+k+"-"+g.adindex+"-"+j;var o;o=g.node.jquery?g.node[0]:g.node,l.appendChild(n),o.appendChild(l);var p=b.defer(),q={index:g.adindex,zone:k,zoneIndex:k+"_"+g.adindex,siteZoneIndex:g.hostname+"_"+k+"_"+g.adindex};0===g.adzone.indexOf("fixed_")?q.positionTarget="fixed":"inline"===g.adzoneType&&(q.positionTarget="inline");var r={id:n.id,model:q};return c.phxAdvertisingQueue.push(function(){var a=this;a.getAdCallConfig(q,f(g)).then(function(a){r.config=a}).then(function(){return a.dynamicCall({slots:[r]})}).then(function(a){return a&&a[0]?a[0]:b.reject("Missing response from ad server")}).then(function(a){return a.filled?(g.sizeCode=a.sizeCode,g.defer.resolve(g),void p.resolve(a.slot)):(g.defer.resolve(null),void p.resolve(null))})["catch"](function(a){c.console.error(a),g.defer.resolve(null),p.resolve(null)})}),p.promise},this.renderAds=angular.noop}function f(a){var b=a.adSizes||[a.dimensions];return b.map(g)}function g(a){return a.split("x").map(Number)}return{getImplementation:function(a){return new e(a)}}}]}),define("phxAds/module",["phxAds/services/phxAdvertising","phxAds/services/phxSponsorships","phxAds/services/phxAdUtils","phxAds/services/phxBaseAdImpl","phxAds/services/phxBootscriptAdImpl"],function(a,b,c,d,e){"use strict";var f=angular.module("phxAds",["phxConfig","phxCore"]).service("phxAdUtils",c).service("phxBaseAdImpl",d).service("phxBootscriptAdImpl",e).factory("phxAdvertising",a).factory("phxSponsorships",b);return f}),define("phxConfig/services/AppConfig",[],function(){"use strict";return function(){var a=angular.injector(["cornerstone"]),b=a.get("cstConfig");return{$get:function(){return b},getModuleConfig:function(a){return b.getModuleConfig(a)}}}}),define("phxConfig/services/Config",[],function(){"use strict";return function(){var a=window.phxSiteConfig;return{config:a,$get:function(){return a}}}}),define("phxConfig/services/phxCategorizr",[],function(){"use strict";return function(){var _deviceType,_os,_osVersion,_browser,_browserVersion,_ua,_breakpoint,_slugList,breakpoints={A:0,B:675,C:1240},_deviceRules=[{cond:/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/gi,result:"tv"},{cond:/Xbox|PLAYSTATION.3|Wii/gi,result:"tv"},{cond:"/iP(a|ro)d/i.exec(ua) || ( /tablet/i.exec(ua) && !/RX-34/i.exec(ua) ) || /FOLIO/i.exec(ua)",result:"tablet"},{cond:"/Linux/i.exec(ua) && /Android/i.exec(ua) && !/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945/i.exec(ua)",result:"tablet"},{cond:"/Kindle/i.exec(ua) || /Mac.OS/i.exec(ua) && /Silk/i.exec(ua)",result:"tablet"},{cond:"/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i.exec(ua) || /MB511/i.exec(ua) && /RUTEM/i.exec(ua)",result:"tablet"},{cond:/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/gi,result:"mobile"},{cond:"/Opera/i.exec(ua) && /Windows.NT.5/i.exec(ua) && /HTC|Xda|Mini|Vario|SAMSUNG-GT-i8000|SAMSUNG-SGH-i9/i.exec(ua)",result:"mobile"},{cond:"/Windows.(NT|XP|ME|9)/.exec(ua) && !/Phone/i.exec(ua)  || /Win(9|.9|NT)/i.exec(ua)",result:"desktop"},{cond:"/Macintosh|PowerPC/i.exec(ua) && !/Silk/i.exec(ua)",result:"desktop"},{cond:"/Linux/i.exec(ua) && /X11/i.exec(ua)",result:"desktop"},{cond:/CrOS|Solaris|SunOS|BSD/gi,result:"desktop"},{cond:"/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i.exec(ua) && !/Mobile/i.exec(ua)",result:"desktop"}],_osRules={tv:[],desktop:[{cond:/Win/gi,versearch:"Win",result:"Windows"},{cond:/Mac/gi,versearch:"OS",result:"Mac OS"},{cond:/Linux/gi,versearch:"",result:"Linux"}],tablet:[{cond:/Android/gi,versearch:"Android",result:"Android"},{cond:/webOS/gi,versearch:"",result:"webOS"},{cond:/iP(a|ro)d/gi,versearch:"OS",result:"iOS"}],mobile:[{cond:/iPhone/gi,versearch:"OS",result:"iOS"},{cond:/Android/gi,versearch:"Android",result:"Android"},{cond:/webOS/gi,versearch:"",result:"webOS"},{cond:/Windows/gi,versearch:"",result:"Windows Phone"},{cond:/Symbian/gi,versearch:"",result:"Symbian"}]},_browserRules={tv:[],desktop:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Trident/gi,versearch:"; rv",result:"MSIE"},{cond:/\sEdge\/\d+\.\d+/gi,versearch:" Edge",result:"Edge"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"}],tablet:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Silk/gi,versearch:"Silk",result:"Silk"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"}],mobile:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"}]},_searchVersion=function(a,b){var c=a.indexOf(b);if(c!==-1){var d=parseFloat(a.substring(c+b.length+1))||null;return d}},_getDeviceInfo=function(agentString){var deviceType="mobile",breakpoint="C";_slugList=void 0;for(var ua=agentString||navigator.userAgent,c=0;c<_deviceRules.length;c++)if("string"==typeof _deviceRules[c].cond){if(eval(_deviceRules[c].cond)){deviceType=_deviceRules[c].result;break}}else if(ua.match(_deviceRules[c].cond)){deviceType=_deviceRules[c].result;break}for(var o=0;o<_osRules[deviceType].length;o++)if(ua.match(_osRules[deviceType][o].cond)){_os=_osRules[deviceType][o].result,_osVersion=_searchVersion(ua,_osRules[deviceType][o].versearch);break}for(var b=0;b<_browserRules[deviceType].length;b++)if(ua.match(_browserRules[deviceType][b].cond)){_browser=_browserRules[deviceType][b].result,_browserVersion=_searchVersion(ua,_browserRules[deviceType][b].versearch);break}var clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||null;if(clientWidth)for(var possibleBreakpoint in breakpoints)clientWidth>=breakpoints[possibleBreakpoint]&&(breakpoint=possibleBreakpoint);_ua=ua,_deviceType=deviceType,_breakpoint=breakpoint},_checkInfo=function(a){_deviceType||_getDeviceInfo()},_getDeviceType=function(){return _checkInfo(),_deviceType},_getBrowser=function(){return _checkInfo(),_browser},_getBrowserVersion=function(){return _checkInfo(),_browserVersion},_getUserAgent=function(){return _checkInfo(),_ua},_getBreakpoint=function(){return _checkInfo(),_breakpoint},_isDesktop=function(){return"desktop"===_deviceType},_isTablet=function(){return"tablet"===_deviceType},_isPhone=function(){return"mobile"===_deviceType},_isMobile=function(){return _isPhone()||_isTablet()},_isBrowserDesktopIE10=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=10&&_browserVersion<11},_isBrowserDesktopIE11=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=11&&_browserVersion<12},_cleanSlug=function(a){return angular.isDefined(a)?a.toLowerCase().replace(/\s/g,"-"):void 0},_getSlugList=function(){if(_checkInfo(),"undefined"==typeof _slugList){var a=[];return a.push(_cleanSlug(_deviceType)),a.push(_cleanSlug(_os)),a.push(_cleanSlug(_browser)),_osVersion&&a.push(_cleanSlug(_os+parseInt(_osVersion,10).toString())),_browserVersion&&a.push(_cleanSlug(_browser+parseInt(_browserVersion,10).toString())),_slugList=a}return _slugList},phxCategorizr;return phxCategorizr={getDeviceInfo:_getDeviceInfo,getDeviceType:_getDeviceType,getBrowser:_getBrowser,getBrowserVersion:_getBrowserVersion,getBreakpoint:_getBreakpoint,getSlugList:_getSlugList,getUserAgent:_getUserAgent,isDesktop:_isDesktop,isTablet:_isTablet,isPhone:_isPhone,isMobile:_isMobile,isBrowserDesktopIE10:_isBrowserDesktopIE10,isBrowserDesktopIE11:_isBrowserDesktopIE11,$get:function(){return phxCategorizr}}}}),define("phxConfig/services/phxUser",[],function(){"use strict";function a(a,b){var c,d=a.invoke(b.$get,b);return c=d.TempestIdentity?{isLogInEnabled:!0,isAuthenticated:!0,isEligibleForAdFree:!(!d.TempestIdentity.benefits||!d.TempestIdentity.benefits.premiumExperience),benefits:d.TempestIdentity.benefits,countPageView:d.TempestIdentity.countPageView,getAccountPageUrl:d.TempestIdentity.getAccountPageUrl,getLoginUrl:d.TempestIdentity.getLoginUrl,getNonInteractiveLogoutUrl:d.TempestIdentity.getNonInteractiveLogoutUrl,getRegistrationUrl:d.TempestIdentity.getRegistrationUrl,getUserProfile:d.TempestIdentity.getUserProfile,returningFromIdentityApp:d.TempestIdentity.returningFromIdentityApp}:{isLogInEnabled:!1,isAuthenticated:!1,isEligibleForAdFree:!1},{isUserAuthenticated:function(){return c.isAuthenticated},isUserEligibleForAdFree:function(){return c.isEligibleForAdFree},$get:["$q",function(a){return{get:function(){var b=a.defer(),d={isAuthenticated:!1,benefits:c.benefits||{},countPageView:c.countPageView||angular.noop};return c.getUserProfile?c.getUserProfile(function(a,c){a&&console.warn(a),c&&(d.isAuthenticated=!0,d.profile=c),b.resolve(d)}):b.resolve(d),b.promise},getAccountPageUrl:c.getAccountPageUrl||angular.noop,getLoginUrl:c.getLoginUrl||angular.noop,getNonInteractiveLogoutUrl:c.getNonInteractiveLogoutUrl||angular.noop,getRegistrationUrl:c.getRegistrationUrl||angular.noop,isLogInEnabled:c.isLogInEnabled,returningFromIdentityApp:c.returningFromIdentityApp||!1}}]}}return a.$inject=["$injector","$windowProvider"],a}),define("phxConfig/module",["phxConfig/services/AppConfig","phxConfig/services/Config","phxConfig/services/phxCategorizr","phxConfig/services/phxUser"],function(a,b,c,d){"use strict";var e=angular.module("phxConfig",["ng"]);return e.config(["$provide","$locationProvider",function(e,f){f.html5Mode(!0).hashPrefix("!"),e.provider("AppConfig",a),e.provider("Config",b),e.provider("phxCategorizr",c),e.provider("phxUser",d)}]),e}),define("cornerstone/cstLogger",[],function(){"use strict";return["$http","cstConfig",function(a,b){var c;if(window.console)c=window.console,"object"==typeof c.log&&["log","info","warn","error"].forEach(function(a){c[a]=this.bind(c[a],c)},Function.prototype.call);else{var d=function(){};c={log:d,info:d,warn:d,error:d,trace:d}}var e={DEBUG:c.log,INFO:c.info,WARN:c.warn,ERROR:c.error,CRITICAL:c.error},f={init:function(a,b,c,d){if(this.levels={DEBUG:1,INFO:2,WARN:3,ERROR:4,CRITICAL:5,NO_LOGGING:6},!a)throw new Error("clientLevelThreshold is required");if(this.clientLevelThreshold=this.levels[a.toUpperCase()],!this.clientLevelThreshold)throw new Error("invalid clientLevelThreshold");if(!b)throw new Error("serverLevelThreshold is required");if(this.serverLevelThreshold=this.levels[b.toUpperCase()],!this.serverLevelThreshold)throw new Error("invalid serverLevelThreshold");if(!c)throw new Error("endpoint is required");this.endpoint=c,this.appName=d},_getActivity:function(){return"undefined"==typeof document?"no document":document.URL},_makeLogRecord:function(a,b){return{message:a,level:b,rcid:null,env:null,appName:this.appName,trace:(new Error).stack,activity:this._getActivity()}},_dispatchLogRecord:function(b,d){if(this.levels[d]>=this.clientLevelThreshold){var f=e[d];f.apply(c,[b.message])}this.levels[d]>=this.serverLevelThreshold&&a.post(this.endpoint,JSON.stringify([b]))},_log:function(a,b){if(b=b.toUpperCase(),!(this.levels[b]<this.clientLevelThreshold&&this.levels[b]<this.serverLevelThreshold)){var c=this._makeLogRecord(a,b);this._dispatchLogRecord(c,b)}},debug:function(a){this._log(a,"debug")},info:function(a){this._log(a,"info")},warn:function(a){this._log(a,"warn")},error:function(a){this._log(a,"error")},critical:function(a){this._log(a,"critical")}},g=b.getModuleConfig("cornerstone"),h=g&&g.cstLogger&&g.cstLogger.clientLevelThreshold?g.cstLogger.clientLevelThreshold:"debug",i=g&&g.cstLogger&&g.cstLogger.serverLevelThreshold?g.cstLogger.serverLevelThreshold:"no_logging",j=g.cstLogger.endpoint||"/:logger",k=g.cstLogger.proxyUrl;k&&(j=k+j);var l=g.cstLogger.appName;return f.init(h,i,j,l),f}]}),define("cornerstone/cstConfig",[],function(){"use strict";var a;return window.cstInitialConfig?(a=window.cstInitialConfig,window.cstInitialConfig=null):a="",function(){return{getModuleConfig:function(b){return a[b]?a[b]:{}}}}}),define("cornerstone/module",["cornerstone/cstLogger","cornerstone/cstConfig"],function(a,b){"use strict";var c=angular.module("cornerstone",[]);return c.factory("cstLogger",a),c.factory("cstConfig",b),c}),define("delivery/deferred",[],function(){"use strict";return function(a,b){var c=[],d=function(){c.push(arguments)};d.implement=function(d){for(var e=0;e<c.length;e++)d.apply(a,c[e]);a[b]=d},a[b]=d}}),define("delivery/beacons",["delivery/deferred"],function(a){"use strict";function b(a,b,c){var d=!1;c&&"/"===c[c.length-1]&&(d=!0),this.send=function(e,f,g,h){if(d){b.debug(e+": "+f);var i=new Date;if("undefined"==typeof g&&(g={}),"undefined"==typeof h&&(h={}),"string"!=typeof f){var j="beacon.send(name, rid) rid must be a string";throw b.error(j),new Error(j)}g.rid=f,g.curtime=i.getTime(),g.curtz=i.getTimezoneOffset();var k=[];a:for(var l in g){var m=g[l];switch(typeof m){case"number":case"boolean":case"string":h[l]?k.push(l+"="+m):k.push(escape(l)+"="+escape(m));continue a;default:b.debug("parameter "+l+" for beacon "+e+" is of unknown type: "+typeof m)}}a.fireRequest(c+e+"?"+k.join("&"))}},this.exception=function(){}}return b}),define("delivery/ready",[],function(){"use strict";function a(){var a=!1,b=[];document.readyState in{complete:!0,interactive:!0}&&(a=!0);var c=function(){for(a=!0;b.length>0;)b.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",c,!1),window.attachEvent("onload",c)),this.ready=function(c){a?c():b.push(c)}}return function(){var b=new a;return function(a){b.ready(a)}}()}),define("delivery/loader",["delivery/ready"],function(a){"use strict";function b(b,c){function d(a,b,c){var d=document.createElement("script");d.setAttribute("src",a),d.setAttribute("type","text/javascript"),d.sayUsed=!0;var e=function(){"undefined"!=typeof c&&c.call(this,arguments),d.onreadystatechange=null,d.onload=null,b||d.parentNode.removeChild(d)};return d.onload=e,d.onreadystatechange=function(){d.readyState in{loaded:1,complete:1}&&e.call(this,arguments)},d}var e,f=0;a(function(){e=document.getElementsByTagName("head")[0]}),this.fetch=function(a){var b;return window.XMLHttpRequest?b=new XMLHttpRequest:window.ActiveXObject&&(b=new ActiveXObject("Microsoft.XMLHTTP")),b.open("GET",a,!1),b.send(null),c.debug("loader.fetch("+a+")"),b.responseText},this.fireRequest=function(a){b.fireRequest(a)},this.loadScript=function(b,c){a(function(){e.appendChild(d(b,0,c))})},this.jsonp=function(a,b,d,e,g){c.debug("loader.jsonp()"),"undefined"==typeof g&&(g=3e3);var h=f++,i="jsonp_"+h,j=function(){try{delete this[i]}catch(a){}},k=window.setTimeout(function(){e(),j()},g);this[i]=function(){window.clearTimeout(k),e.apply(this,arguments),j()},d[b]="loader."+i;var l="?",m="";for(var n in d)m+=l+n+"="+escape(d[n]),l="&";c.debug("JSONP: "+a+m),this.loadScript(a+m)},this.insertScript=function(a,b,c){var e=d(a,1,c);return b.parentNode.insertBefore(e,b),e},this.appendScript=function(a,b,c){var e=d(a,1,c);return b.appendChild(e),e}}return b}),define("phxCore/services/phxBeaconClient",["delivery/beacons","delivery/loader"],function(a,b){"use strict";return["cstLogger","cstConfig","phxPixelClient",function(c,d,e){return{makeBeaconClient:function(){var f=new e,g=d.getModuleConfig("phxEventDemux").beaconServerUrl,h=new b(f,c);return new a(h,c,g)}}}]}),define("delivery/now",[],function(){"use strict";return function(){return(new Date).getTime()}}),define("delivery/json",[],function(){"use strict";var localJSON=window.JSON||{};return"undefined"!=typeof localJSON.stringify&&'{"test":["1"]}'===localJSON.stringify({test:["1"]})||(localJSON.stringify=function(a){var b=typeof a;if("object"!==b||null===a)return"string"===b&&(a='"'+a+'"'),String(a);var c,d,e=[],f=a&&a.constructor===Array;for(c in a)d=a[c],b=typeof d,"function"!==b&&("string"===b?d='"'+d+'"':"object"===b&&null!==d&&(d=localJSON.stringify(d)),e.push((f?"":'"'+c+'":')+String(d)));return(f?"[":"{")+String(e)+(f?"]":"}")},localJSON.parse=localJSON.parse||function(string){return eval("("+string+")")}),localJSON}),define("delivery/clone",["delivery/json"],function(a){"use strict";return function(b){return a.parse(a.stringify(b))}}),define("cyclamen/eventbus",["delivery/json","delivery/clone","delivery/mixin"],function(a,b,c){"use strict";function d(d){var e={},f={},g={},h=function(a,b){return a+":"+b},i=function(a,b){return b in a||(a[b]=[]),a[b]};this.onListen=function(a,b,c){var d=h(a,b);if("function"!=typeof c)throw new Error("callback argument must be a function");var f=i(e,d);f.push(c)},this.addListener=function(a,b,c){var d=h(a,b);if("function"!=typeof c)throw new Error("callback argument must be a function");g.hasOwnProperty(d)&&c.call(this,g[d]);var j=i(f,d);for(j.push(c),j=i(e,d);j.length>0;)j.shift()();return!0},this.removeListener=function(a,b,c){for(var d=h(a,b),e=i(f,d),g=0;g<e.length;g++)if(c===e[g]){do g===e.length?e.pop():e[g]=e[g+1];while(g++<e.length);return!0}return!1},this.dispatch=function(c,e,j){var k=h(c,e);if("string"!=typeof e&&(j=e),"undefined"==typeof j)j={};else if("object"!=typeof j)throw new Error("EventBus.dispatch(ns,type,event): event argument must be an object");var l=i(f,k).slice(0);d&&d.isDebug&&d.debug(k+" - "+a.stringify(j,function(a,b){return"impression"===a&&"object"==typeof b?"[object Impression]":b})+" ("+l.length+" listeners)");for(var m=0;m<l.length;m++)if(l[m].call(this,b(j))===!1)return!1;return g[k]=j,!0},this.dispatcher=function(a){var b=this;return{dispatch:function(c,d){b.dispatch(a,c,d)}}},this.mixin=function(a,b){c.call(this,a),"undefined"!=typeof b&&(delete a.dispatcher,delete a.dispatch,c.call(this.dispatcher(b),a))}}return d}),define("cyclamen/session",["delivery/now","cyclamen/eventbus"],function(a,b){"use strict";return function(c,d,e,f,g,h){this.bus=h||new b(c),this.bus.mixin(this),this.rid=d,this.time=a(),this.product=e,this.specification=f,this.meta=g,this.elapsed=function(){return a()-this.time};var i=f&&f.creative&&f.creative.ctas;if(i&&i.constructor===Array){for(var j={},k=0;k<i.length;k++)for(var l in i[k])i[k].hasOwnProperty(l)&&(j[l]=i[k][l]);f.creative.ctas=j}}}),define("cyclamen/pageview",["cyclamen/session"],function(a,b){"use strict";return function(b,c,d){this.rid=b,this.node=c,this.section=d;var e={debug:function(){console.debug.call(console,arguments)},error:function(){console.error.call(console,arguments)},isDebug:!1};a.call(this,e,b)}}),define("phxCore/services/phxEventBus",["cyclamen/pageview"],function(a){"use strict";return function(){return a}}),define("delivery/event",[],function(){"use strict";function a(){this.add=function(a,b,c){a.addEventListener?a.addEventListener(b,c):"function"==typeof jQuery?jQuery(a).on(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},this.remove=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):"function"==typeof jQuery?jQuery(a).off(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},this.trigger=function(a,b,c){var d=a.ownerDocument;if(a.dispatchEvent&&d.createEvent){var e=d.createEvent("Event");if(e.initEvent(b,!0,!0),"undefined"!=typeof c)for(var f in c)f in e||(e[f]=c[f]);a.dispatchEvent(e)}else"function"==typeof jQuery&&jQuery(a).trigger(b,c)}}return new a}),define("delivery/indexof",[],function(){"use strict";return function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1}}),define("cyclamen/demux",["delivery/event","delivery/indexof"],function(a,b){"use strict";function c(c,d,e,f,g){"undefined"==typeof f&&(f={}),"undefined"==typeof g&&(g=[]);var h={dom:function(b,c,e,f){if("string"!=typeof f)throw new Error("DOM target must be event name");if("object"!=typeof b.node)throw new Error("DOM events only supported for session types that belong to a DOM node");return function(c){d.debug("demux.DOM: "+f),c.rid=b.rid,c.integrationId=b.integrationId,c.session=b,c.impression=b,a.trigger(b.node,f,c)}},beacon:function(a,e,f,h){if("string"!=typeof h)throw new Error("event target must be a beacon name");return function(e){if(d.debug("demux.beacon: "+h),b(g,h)>-1){var f,i,j=a.specification?a.specification.traffic:void 0,k=["ccid","lineitemid","creativeid"];if(j)for(f=0;f<k.length;f++)i=k[f],"string"==typeof j[i]&&j[i].length&&(e[i]=j[i]);var l=a.specification?a.specification.creative:void 0,m=["prod"];if(l)for(f=0;f<m.length;f++)i=m[f],"string"==typeof l[i]&&l[i].length&&(e[i]=l[i]);a.dimensions&&a.dimensions.length&&(e.dim=a.dimensions),a.integrationId&&(e.intgid=a.integrationId),e.integrationId&&delete e.integrationId}c.send(h,a.rid,e)}},event:function(a,b,c,e){if("string"!=typeof e)throw new Error("event target must be an event name");return function(c){d.debug("demux.event: "+e),a.dispatch(b,e,c)}},report:function(a,b,c,e){if(e.constructor!==Array)throw new Error(b+":"+c+" event report specification must be an argument mapping, in the form of an array.");return function(b){if("object"!=typeof a.report)throw new Error("Impression report reporting only supported for session types with an impression report object.");var c=a.report,f=e[0];d.debug("demux.report: "+f);for(var g=[],h=1;h<e.length;h++)g.push(b[e[h]]);if("function"!=typeof c[f]){var i="report object has no method "+f;throw d.error(i),new Error(i)}c[f].apply(c,g)}},"function":function(a,b,c,e){return function(b){if("object"!=typeof a.node)throw new Error("Global function reporting only supported for session types that belong to a DOM node");var c=window[e];d.debug("demux.function: "+e),"function"==typeof c&&c.call(a,a.node.parentNode,b)}}},i=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b},j=function(a,b){var c=i(a).concat(i(b));if(c.length>1){c.sort();for(var d=0,e=0;e<c.length;d++)for(d!==e&&(c[d]=c[e]);c[d]===c[e];)e++;c.splice(d,e-d)}return c},k=function(a,b,c,d){var e=function(){return a.removeListener(b,c,e),d.apply(this,arguments)};return e};this.attach=function(a){var b=a.product,c={};"undefined"!=typeof b&&f[b]&&(c=f[b]);for(var g=j(e,c),i=0;i<g.length;i++)for(var l=g[i],m=e[l]||{},n=c[l]||{},o=j(m,n),p=0;p<o.length;p++)for(var q=o[p],r=m[q]||{},s=n[q]||{},t=j(r,s),u=0;u<t.length;u++){var v=t[u],w=!1,x=s[v];if("undefined"==typeof x&&(x=r[v]),null!==x){"+"===v.substring(0,1)&&(w=!0,v=v.substring(1)),h.hasOwnProperty(v)||d.error("Unknown dispatch type "+l+":"+q+" "+v);var y=h[v](a,l,q,x);w&&(y=k(a,l,q,y)),a.addListener(l,q,y)}}},this.getRules=function(){return e.clone()}}return c}),define("phxCore/services/phxEventDemux",["cyclamen/demux"],function(a){"use strict";var b={};return["cstLogger","phxBeaconClient",function(c,d){var e=d.makeBeaconClient();return function(d,f){return a.call(this,e,c,d,b,f)}}]}),define("phxCore/services/phxImageOptions",[],function(){"use strict";return["phxImageOptionsProfiles","Config","phxResponsiveSize","phxUtil",function(a,b,c,d){function e(a){var b=c.getName(),h=g[b];if(h.hasOwnProperty(a))return h[a];h[a]=null;var i=f[a]||null;if(i&&i[b]&&(i=$.extend(!0,{},i,i[b])),i&&i["extends"]){var j=e(i["extends"]);j&&"object"==typeof j&&(i=$.extend(!0,{},j,i))}if(i){var k=i.hasOwnProperty("viewportIncrement")?i.viewportIncrement:f.hasOwnProperty("viewportIncrement")?f.viewportIncrement:500,l=i.hasOwnProperty("viewportRound")?Math[i.viewportRound]:f.hasOwnProperty("viewportRound")?Math[f.viewportRound]:Math.floor;if(i.hasOwnProperty("width")&&"viewport"===i.width){var m=d.getViewportDimensions().width;i.width=k*l(m/k)}if(i.hasOwnProperty("height")&&"viewport"===i.height){var n=d.getViewportDimensions().height;i.height=k*l(n/k)}}return h[a]=i,i}var f=a;b.imageOptions&&(f=$.extend(!0,{},f,b.imageOptions));var g={A:{},B:{},C:{},D:{}};return{getOptions:e}}]}),define("phxCore/services/phxImageOptionsProfiles",{"default":{},slideshowFullscreen:{crop:"limit",quality:75,height:2500,width:2500,retinaQuality:40,A:{width:1250,height:1250}}}),define("phxCore/services/phxPage",[],function(){"use strict";var a=["_config","$location","$q","$rootScope","$window","phxAdvertising","phxEventBus","phxPageReporting","phxSponsorships","phxUser",function(a,b,c,d,e,f,g,h,i,j){function k(b,c){this.path=b.path,this.queryParams=c,this.classes=[],this.events=new g,this.errorCode=null,this.masterItem=null,this.sponsorship=null,this.advertising=null,this.isDetailPage=!1;var k=this;k.isCanvas=!1,a.isAdFree?k.adSupported=!1:k.adSupported=!0;var l;if(j.isLogInEnabled&&(l=j.get(),l.then(function(a){d.user=a}),d.toggleUserMenu=function(){d.showUserMenu=!d.showUserMenu}),b){if("ContentRedirect"===b.objectType)return e.location=b.targetUrl,null;k.masterItem=b,k.isCanvas=b.isCanvas||!1,k.isDetailPage=b.isDetailPage||!1,k.sponsorship=i.getSponsorshipForContentItem(b),k.adSupported||k.sponsorship&&"section"===k.sponsorship.sponsorshipType&&(k.sponsorship=null),k.sponsorship&&k.sponsorship.reporting&&(h.enableReporting(k.events,k.sponsorship.reporting),d.$broadcast("isSponsored")),l&&l.then(function(a){a.countPageView(e.location)})}else k.errorCode=404;return k.advertising=f.createContextForPage(k),k.events.dispatch("page","loaded"),k}return k.prototype={init:function(){return c.when(this)}},k.prototype.addPageClass=function(a){this.classes.indexOf(a)===-1&&this.classes.push(a)},k.prototype.getAbsoluteUrlWithoutQuery=function(){return[b.protocol(),"://",e.location.host,this.path].join("")},{Page:k}}];return function(){var b={isAdFree:!1};return{configure:function(a){angular.extend(b,a)},$get:["$injector",function(c){return c.invoke(a,null,{_config:b})}]}}}),define("phxCore/services/phxPageReporting",[],function(){"use strict";return["$window","phxPixelClient",function(a,b){function c(a,c){var d=c.pageview||[];
if(0!==d.length){var e=new b;a.addListener("page","loaded",function(){for(var a=0;a<d.length;a++)e.fireRequest(d[a])})}}function d(b,d){if(!a.GdprStatus)throw new Error("window.GdprStatus is required");a.GdprStatus.isApplicable().then(function(a){if(a);else{if(!d)return;var e={traffic:{}};b.specification=e,d.thirdPartyEventEndpoints&&c(b,d.thirdPartyEventEndpoints)}})}return{enableReporting:d}}]}),define("delivery/pixel",[],function(){"use strict";function a(a){var b=[];"undefined"==typeof a&&(a=3e3);var c=function(){b.shift()};this.fireRequest=function(d){var e=document.createElement("img");e.src=d,b.push(e),window.setTimeout(c,a)}}return a}),define("phxCore/services/phxPixelClient",["delivery/pixel"],function(a){"use strict";return function(){return a}}),define("phxCore/services/phxResponsiveSize",[],function(){"use strict";return["$rootScope","Respond",function(a,b){function c(){var a=b.getBreakpoints(),c=b.getCurrentBreakpoint(),d=a.length-a.indexOf(c);return 0===a[a.length-1]&&d--,0===d&&(d=1),d}function d(){e=c(),f=g[e]}var e,f,g={1:"A",2:"B",3:"C",4:"D"};return a.$on("breakpoint",d),d(),{getName:function(){return f},getNumber:function(){return e}}}]}),define("phxCore/services/phxSocial",[],function(){"use strict";return["$window","$location","Config","cstLogger",function(a,b,c,d){function e(a,b){var c,d={};return c=b+"Link",k[a]&&k[a].links&&(d.alt=k[a].links[b+"Link"],k[a].links.hasOwnProperty(c)?d.url=k[a].links[c]:d.url=d.alt,d.friendlyName=k[a].friendlyName,d.medium=k[a].medium),d}function f(a){return a=[].concat(a).filter(function(a){return!(!a||!a.name)&&(!!k[a.name]||(console.error('Unsupported social link medium "'+a.name+'"'),!1))}),a.map(function(a){var b=e(a.name,"profile");return{friendlyName:b.friendlyName,url:b.url.replace("PROFILE_ID",a.id),alt:b.alt.replace("PROFILE_ID",a.id),rel:a.rel,medium:b.medium,target:"_blank",trackId:b.medium+"-follow"}})}function g(a){var b=c.siteUrl+a;return b}function h(a){if(a){var b=Date.parse(a),c=(new Date).getTime()-b,d=Math.floor(c/1e3/60/60);if(d<=240)return!0}return!1}function i(a){return p[a]}function j(a,b,c){var e="",f="",h="",j=g(a.path);a&&(e=a.promoTitle||a.title,f=a.teaser||"",h=e,""!==f&&(h.length&&"?!.".indexOf(h[h.length-1])===-1&&(h+="."),h+=" "+f));var k=i(b);if("function"!=typeof k)return void d.error(b+" is not supported by phxSocial.");var l={url:j,title:e,text:e,subject:e,body:h};a.primaryImage&&a.primaryImage.src?(l.image=a.primaryImage.src,k(l,c)):k(l,c)}var k={facebook:{friendlyName:"Facebook",className:"facebook",proofKey:"facebook",medium:"facebook",links:{shareLink:"https://www.facebook.com/sharer.php?u=SHARE_URL",profileLink:"https://www.facebook.com/PROFILE_ID"}},twitter:{friendlyName:"Twitter",className:"twitter",proofKey:"twitter",medium:"twitter",links:{shareLink:"https://twitter.com/intent/tweet?url=SHARE_URL&text=TITLE_TEXT",profileLink:"https://twitter.com/PROFILE_ID"}},googleplus:{friendlyName:"Google Plus",className:"googleplus",proofKey:"googleplus",medium:"googleplus",links:{profileLink:"http://plus.google.com/PROFILE_ID",shareLink:"https://plus.google.com/share?url=SHARE_URL"}},reddit:{friendlyName:"Reddit",className:"reddit",proofKey:"reddit",medium:"reddit",links:{shareLink:"http://www.reddit.com/submit?url=SHARE_URL"}},pinterest:{friendlyName:"Pinterest",className:"pinterest",proofKey:"pinterest",medium:"pinterest",links:{shareLink:"http://pinterest.com/pin/create/button/?url=SHARE_URL",profileLink:"http://pinterest.com/PROFILE_ID"}},tumblr:{friendlyName:"Tumblr",className:"tumblr",proofKey:null,medium:"tumblr",links:{profileLink:"http://PROFILE_ID.tumblr.com/",shareLink:"http://www.tumblr.com/share/link?url=SHARE_URL",sharePhotoLink:"http://www.tumblr.com/share/photo?clickthru=SHARE_URL",shareQuoteLink:"http://www.tumblr.com/share/quote?source=%20(%3Ca%20href%3D%22SHARE_URL%22%3Evia%3C%2Fa%3E)"}},tumblr_link:{friendlyName:"Tumblr Link",className:"tumblr",proofKey:null,medium:"tumblr_link"},linkedin:{friendlyName:"LinkedIn",className:"linkedin",proofKey:"linkedin",medium:"linkedin",links:{shareLink:"https://www.linkedin.com/cws/share?url=SHARE_URL",profileLink:"http://www.linkedin.com/company/PROFILE_ID"}},instagram:{friendlyName:"Instagram",className:"instagram",medium:"instagram",links:{profileLink:"https://www.instagram.com/PROFILE_ID"}},youtube:{friendlyName:"YouTube",className:"youtube",medium:"youtube",links:{profileLink:"http://www.youtube.com/user/PROFILE_ID"}},youtube_channel:{friendlyName:"YouTube Channel",className:"youtube",medium:"youtube",links:{profileLink:"https://www.youtube.com/channel/PROFILE_ID"}},youtube_page:{friendlyName:"YouTube Page",className:"youtube",medium:"youtube",links:{profileLink:"https://www.youtube.com/PROFILE_ID"}},bloglovin:{friendlyName:"Bloglovin",className:"bloglovin",medium:"bloglovin",links:{profileLink:"http://www.bloglovin.com/blogs/PROFILE_ID"}},email:{friendlyName:"Email",className:"email",medium:"email",links:{profileLink:"mailto:PROFILE_ID"}}},l=function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c))if(a[c]instanceof Array)for(var d=0;d<a[c].length;d++)b.push(c+"[]="+encodeURIComponent(a[c][d]).replace(/'/g,"%27"));else b.push(c+"="+encodeURIComponent(a[c]).replace(/'/g,"%27"));return b},m=function(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&b.indexOf(d)!==-1&&(c[d]=a[d]);return c},n=function(a,c){var d,e={url:b.absUrl()};c=c||{},d=angular.extend({},e,c),a.url=a.url.replace("SHARE_URL",encodeURIComponent(d.url)),delete d.url;var f=l(d).join("&");return f&&(a.url+="&"+f),a},o=function(b,c,d,e){return b=n(b,c),e?b.url:(d=angular.extend({windowSpecs:"width=500,height=500",windowName:"phxShareWindow",destination:null},d),a.open(b.url,d.windowName,d.windowSpecs))},p={};return p.twitter=function(a,b){var d=e("twitter","share"),f={windowSpecs:"width=550,height=258,resizable=0,scrollbars=0"};a=m(a,["url","text"]);for(var g in c.social.links)if("twitter"===c.social.links[g].name){a.via=c.social.links[g].id;break}return d.url=d.url.replace("TITLE_TEXT",a.text?encodeURIComponent(a.text):""),delete a.text,o(d,a,f,b)},p.facebook=function(a,b){var c=e("facebook","share"),d={windowSpecs:"width=600,height=350,resizable=0,scrollbars=0"};return a=m(a,["url","title"]),a.t=a.title,delete a.title,o(c,a,d,b)},p.pinterest=function(a,b){var c=e("pinterest","share"),f={windowSpecs:"width=665,height=350,resizable=0,scrollbars=0"};return a=m(a,["url","image","body"]),a.image?(a.media=a.image,delete a.image):d.error("Pinterest requires a pin specify an image URL (must start with http://)"),a.body&&(a.description=a.body,delete a.body),o(c,a,f,b)},p.email=function(a,b){var c={},e={windowPopup:!0};return a=m(a,["url","subject","body"]),a.subject||d("You should set a subject for your email"),a.body||d("Your should set a body for your email"),c.url="mailto:?subject="+encodeURIComponent(a.subject)+"&body="+encodeURIComponent(a.body)+"%20SHARE_URL",delete a.subject,delete a.body,o(c,a,e,b)},p.tumblr=function(a,b,c){var f,g={},h={windowSpecs:"width=900,height=480,resizable=0,scrollbars=0"};switch(a){case"link":g=e("tumblr","share"),f=["title","description"];break;case"photo":g.url="http://www.tumblr.com/share/photo?clickthru=SHARE_URL",f=["source","caption"];break;case"quote":g=e("tumblr","ShareQuote"),f=["quote"];break;default:return void d("You must specify the type of tumblr post: link or photo")}return o(g,b,h,c)},p.tumblr_link=function(a,b){return a=m(a,["url","title","body"]),a.description=a.body,delete a.body,p.tumblr("link",a,b)},p.tumblr_photo=function(a,b){return p.tumblr("photo",a,b)},p.tumblr_quote=function(a,b){return p.tumblr("quote",a,b)},p.googleplus=function(a,b){var c=e("googleplus","share"),d={windowSpecs:"height=600,width=600,menubar=no,toolbar=no,resizable=yes,scrollbars=yes"};return a=m(a,["url"]),o(c,a,d,b)},p.linkedin=function(a,b){var c=e("linkedin","share"),d={windowSpecs:"width=600,height=390,resizable=0,scrollbars=0"};return a=m(a,["url"]),o(c,a,d,b)},p.reddit=function(a,b){var c=e("reddit","share"),d={windowSpecs:"width=840,height=464,resizable=0,scrollbars=0"};return a=m(a,["url","title"]),o(c,a,d,b)},{buildDestination:e,buildButtons:f,isFresh:h,share:j,shareButtonSettings:function(){return k},shareMethod:i}}]}),define("phxCore/services/phxUtil",[],function(){"use strict";return["$window","$document","$location","Config","$timeout","$rootScope","$q",function(a,b,c,d,e,f,g){return{debounce:function(a,b,c){function d(){return(new Date).getTime()}function f(a){var b=typeof a;return!!a&&("object"===b||"function"===b)}function g(){q&&e.cancel(q),m&&e.cancel(m),m=q=r=void 0}function h(){var c=b-(d()-o);if(c<=0||c>b){m&&e.cancel(m);var f=r;m=q=r=void 0,f&&(s=d(),n=a.apply(p,k),q||m||(k=p=null))}else q=e(h,c)}function i(){q&&e.cancel(q),m=q=r=void 0,(u||t!==b)&&(s=d(),n=a.apply(p,k),q||m||(k=p=null))}function j(){var c,f,g;return k=arguments,o=d(),p=this,r=u&&(q||!l),t===!1?c=l&&!q:(m||l||(s=o),f=t-(o-s),g=f<=0||f>t,g?(m&&(m=e.cancel(m)),s=o,n=a.apply(p,k)):m||(m=e(i,f))),g&&q?q=e.cancel(q):q||b===t||(q=e(h,b)),c&&(g=!0,n=a.apply(p,k)),!g||q||m||(k=p=null),n}var k,l,m,n,o,p,q,r,s=0,t=!1,u=!0;if("function"!=typeof a)throw new TypeError("this is not a function!");return b=b<0?0:+b||0,c===!0?(l=!0,u=!1):f(c)&&(l=c.leading,t="maxWait"in c&&Math.max(+c.maxWait||0,b),u="trailing"in c?c.trailing:u),j.cancel=g,j},throttle:function(a,b){var c,d,f,g,h=0,i=function(){h=new Date,f=null,g=a.apply(c,d)};return function(){var j=new Date,k=b-(j-h);return c=this,d=arguments,k<=0?(f&&e.cancel(f),h=j,g=a.apply(c,d)):f||(f=e(i,k)),g}},getViewportDimensions:function(){return{width:a.innerWidth||b[0].documentElement.clientWidth||0,height:a.innerHeight||b[0].documentElement.clientHeight||0}},isExternalLink:function(a){try{if(!a)return!1;var b=new RegExp("^https?://([^/]+)/?"),c=a.match(b);return!!c&&c[1]!==d.siteProductionDomain}catch(e){return!0}},getLinkTarget:function(a){return this.isExternalLink(a)?"_blank":void 0},isGalleryView:function(a){var b=c.hash();return a&&a.masterItem&&a.masterItem.hasGallery&&b&&(b.match(/gid=/)||b.match(/pid=/))},slugify:function(a){var b=new RegExp("[^a-z0-9-_]","g");return a.toLowerCase().replace(/\s+/g,"-").replace(b,"")},inflateItemJson:function(a){var b={};return JSON.parse(a,function(a,c){return c&&"object"==typeof c&&(c.$ref&&b[c.$ref]?c=b[c.$ref]:c.id&&(b[c.id]=c)),c})}}}]}),define("phxCore/services/phxEvents",[],function(){"use strict";return["$window","$rootScope","phxUtil","$document",function(a,b,c,d){function e(){g.$emit("resize",{height:a.innerHeight,width:a.innerWidth})}function f(){var b=d.height();g.$emit("scroll",{pageYOffset:a.scrollY,windowHeight:h,documentHeight:b})}var g=b.$new(),h=a.outerHeight;return g.OnDocumentClick="document.click",g.emitClick=function(a){b.$emit(g.OnDocumentClick,a)},a.addEventListener("resize",c.debounce(e,250)),a.addEventListener("scroll",c.debounce(f,250)),a.addEventListener("click",g.emitClick),g}]}),define("phxCore/directives/phxGallery",[],function(){"use strict";var a=["Config","$controller","$location","$timeout",function(a,b,c,d){return{restrict:"A",require:"?^phxPage",scope:!0,controller:["$scope",function(a){var c=b("phxTmlGalleryInvite");a.images=[];var d=[];this.registerImage=function(b){var e=c.slugify(b.pid);d.indexOf(e)!==-1&&(e=e+"-"+b.publicId),d.push(e),b.pid=e,a.images.push(b)},this.launchGalleryModal=function(){if(0===a.images.length)throw new Error("no images registered for this gallery");c.initGallery(0,a.images)}}],link:function(e,f,g,h){f.addClass("is-interactive");var i=b("phxTmlGalleryInvite");d(function(){var b=i.getHashImageIndex(c.hash(),e.images),d=h&&h.page.adSupported&&a.ad.enabled;d&&(e.images=i.injectInterstitialAds(e.images)),!isNaN(parseFloat(b))&&isFinite(b)&&b>=0?i.initGallery(b,e.images):i.preloadFirstImage(0,e.images)})}}}],b=[function(){return{restrict:"EA",require:"^phxGallery",link:function(a,b,c,d){d.registerImage({caption:c.captionHtml,h:c.fullHeight,imageId:c.imageId,linkHref:c.imageLinkHref||void 0,linkRel:c.imageLinkRel||void 0,linkTarget:c.imageLinkTarget||void 0,linkTrackId:c.imageLinkHref?"image-click":void 0,pid:c.imageSlug,publicId:c.publicId,sourceName:c.sourceName,sourcePageUrl:c.sourcePageUrl,src:c.fullSrc,thumbnailSrc:c.src,title:c.title,w:c.fullWidth})}}}],c=[function(){return{restrict:"EA",require:"^phxGallery",link:function(a,b,c,d){b.on("click",function(){d.launchGalleryModal()})}}}];return{phxGalleryFactory:a,phxGalleryImageFactory:b,phxGalleryLauncherFactory:c}}),define("phxCore/directives/phxHtml",[],function(){"use strict";return["phxUtil","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){function f(){return(h(c)||"").toString()}d.addClass("ng-binding").data("$binding",e.phxHtml);var g,h=b(e.phxHtml);c.$watch(f,function(b){d.html(h(c)||""),d.find("a").each(function(b,c){g=a.getLinkTarget(c.getAttribute("href")),g&&angular.element(c).attr("target",g)})})}}}]}),define("phxCore/directives/phxPageManager",[],function(){"use strict";return["$location","$window","Config","phxPage","phxUtil",function(a,b,c,d,e){function f(a,b){var c=j(b);k(b,c)}function g(d,e,f){d.$on("$locationChangeSuccess",function(d,e,f){var g=a.path()+b.document.location.search;g!==l&&(l=g,"published"!==c.configName&&(a.replace(!0),a.search("config",c.configName)))})}function h(a){var b=a.find("#pageItemData");if(!b.is("script"))throw new Error("missing or invalid #pageItemData element");return e.inflateItemJson(b.text())}function i(b){return new d.Page(b,a.search())}function j(a){return i(h(a))}function k(a,b){a.data("$phxPageController",{page:b})}var l=null;return{restrict:"A",controller:["$element",function(a){f(this,a)}],link:g}}]}),define("phxCore/directives/phxShareButton",[],function(){"use strict";return["phxSocial",function(a){return{restrict:"E",scope:{medium:"@",contentItem:"="},link:function(b,c){c.bind("click",function(){a.share(b.contentItem,b.medium)})}}}]}),define("phxCore/directives/phxSiteSkinSticky",[],function(){"use strict";return["$window","phxUtil",function(a,b){return{restrict:"A",replace:!0,link:function(c,d,e){var f=e.phxSiteSkinSticky,g=b.throttle(function(){var b=a.pageYOffset,c=angular.element(".m-header"),d=angular.element(".m-advertisement-off-canvas--pusher"),e=angular.element(".m-advertisement--skin-container"),f="none"!==d.css("transform")&&parseInt(d.css("transform").split(",")[5])>0?parseInt(d.css("transform").split(",")[5]):parseInt(d.offset().top)||0,g=f+c.height()-b;if(g<=0)e.css("transform","translate3d(-50%, 0, 0)");else{var h=f+c.height()-angular.element(document).scrollTop();e.css("transform","translate3d(-50%, "+h+"px, 0)")}},10);angular.element(".m-page-container").removeClass("m-skin"),a.phxAdvertisingQueue=a.phxAdvertisingQueue||[],a.phxAdvertisingQueue.push(function(){this.getSlotResult(f).then(function(a){a.filled&&(angular.element(".m-page-container").addClass("m-skin"),angular.element(document).on("scroll",g),g())})})}}}]}),define("text",["module"],function(a){"use strict";function b(a,b){return void 0===a||""===a?b:a}function c(a,c,d,e){if(c===e)return!0;if(a===d){if("http"===a)return b(c,"80")===b(e,"80");if("https"===a)return b(c,"443")===b(e,"443")}return!1}var d,e,f,g,h,i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],j=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,k=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,m=l&&location.protocol&&location.protocol.replace(/\:/,""),n=l&&location.hostname,o=l&&(location.port||void 0),p={},q=a.config&&a.config()||{};return d={version:"2.0.16",strip:function(a){if(a){a=a.replace(j,"");var b=a.match(k);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:q.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;b<3;b+=1){c=i[b];try{a=new ActiveXObject(c)}catch(d){}if(a){i=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.lastIndexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return f!==-1&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1)):b=a,d=c||b,f=d.indexOf("!"),f!==-1&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,e,f){var g,h,i,j=d.xdRegExp.exec(a);return!j||(g=j[2],h=j[3],h=h.split(":"),i=h[1],h=h[0],(!g||g===b)&&(!h||h.toLowerCase()===e.toLowerCase())&&(!i&&!h||c(g,i,b,f)))},finishLoad:function(a,b,c,e){c=b?d.strip(c):c,q.isBuild&&(p[a]=c),e(c)},load:function(a,b,c,e){if(e&&e.isBuild&&!e.inlineText)return void c();q.isBuild=e&&e.isBuild;var f=d.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=b.toUrl(g),i=q.useXhr||d.useXhr;return 0===h.indexOf("empty:")?void c():void(!l||i(h,m,n,o)?d.get(h,function(b){d.finishLoad(a,f.strip,b,c)},function(a){c.error&&c.error(a)}):b([g],function(a){d.finishLoad(f.moduleName+"."+f.ext,f.strip,a,c)},function(a){c.error&&c.error(a)}))},write:function(a,b,c,e){if(p.hasOwnProperty(b)){var f=d.jsEscape(p[b]);c.asModule(a+"!"+b,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,b,c,e,f){var g=d.parseName(b),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=c.toUrl(g.moduleName+h)+".js";d.load(i,c,function(b){var c=function(a){return e(j,a)};c.asModule=function(a,b){return e.asModule(a,j,b)},d.write(a,i,c,f)},f)}},"node"===q.env||!q.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(e=require.nodeRequire("fs"),d.get=function(a,b,c){try{var d=e.readFileSync(a,"utf8");"\ufeff"===d[0]&&(d=d.substring(1)),b(d)}catch(f){c&&c(f)}}):"xhr"===q.env||!q.env&&d.createXhr()?d.get=function(a,b,c,e){var f,g=d.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);q.onXhr&&q.onXhr(g,a),g.onreadystatechange=function(d){var e,f;4===g.readyState&&(e=g.status||0,e>399&&e<600?(f=new Error(a+" HTTP status: "+e),f.xhr=g,c&&c(f)):b(g.responseText),q.onXhrComplete&&q.onXhrComplete(g,a))},g.send(null)}:"rhino"===q.env||!q.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?d.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),null!==d&&c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}:("xpconnect"===q.env||!q.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(f=Components.classes,g=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),h="@mozilla.org/windows-registry-key;1"in f,d.get=function(a,b){var c,d,e,i={};h&&(a=a.replace(/\//g,"\\")),e=new FileUtils.File(a);try{c=f["@mozilla.org/network/file-input-stream;1"].createInstance(g.nsIFileInputStream),c.init(e,1,0,!1),d=f["@mozilla.org/intl/converter-input-stream;1"].createInstance(g.nsIConverterInputStream),d.init(c,"utf-8",c.available(),g.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),d.readString(c.available(),i),d.close(),c.close(),b(i.value)}catch(j){throw new Error((e&&e.path||"")+": "+j)}}),d}),define("text!phxCore/html/phxSocialTools.html",[],function(){return'<section class="m-social">\n    <!-- Note: There is both a server-side (socialTools.pug) and client-side (phxSocialTools.html)\n            implementation of social tools. Eventually this file will be phased out in favor of\n            server-side rendering, however in the meantime any changes to this file should be reflected\n            in socialTools.pug and vice-versa. -->\n    <ul>\n        <li ng-repeat="button in shareButtons" class="m-social--{{button.className}}">\n            <phx-share-button medium="{{button.medium}}" location="share-tools" content-item="contentItem" author="author">\n                <a aria-label="{{button.medium}}" class="m-social--button m-icon-button" onclick="phoenixTrackClickEvent(this, event);" phx-track-id="{{\'Link \' + button.medium}}"\n                    phoenix-adobe-tracker="{{button.adobeTracker}}">\n                    <phoenix-icon-fallback icon="ico_{{button.medium}}"  class="m-svg m-icon-button--icon">\n                        <svg>\n                            <use\n                                ng-attr-xlink:href="{{\n                                    \'/assets-global/icons/svg-sprite.svg?\' +\n                                    $root.appCacheBuster +\n                                    \'#ico_\' + button.medium\n                                }}"\n                                xlink:href=""></use>\n                        </svg>\n                    </phoenix-icon-fallback>\n                </a>\n            </phx-share-button>\n        </li>\n        <!-- As soon as Angular is removed, the <base> tag can be removed too, and the link to comment should just be href="#comments" -->\n        <li class="m-social--comments" ng-show="showSocialToolsCommentButton && (contentItem.commentsEnabled === null || contentItem.commentsEnabled === true)"><a href="{{ contentItem.path }}#comments" onclick="phoenixTrackClickEvent(this, event);" phx-track-id="Link Comments"></a></li>\n        <li ng-if="showSocialToolsPrintButton" class="m-social--print"><a href="javascript:window.print()"></a></li>\n    </ul>\n</section>\n'}),define("phxCore/directives/phxSocialTools",["text!phxCore/html/phxSocialTools.html"],function(a){"use strict";return["phxSocial","Config",function(b,c){return{restrict:"E",scope:{author:"=",contentItem:"="},controller:["$scope",function(a){a.shareButtons=[];var d=b.shareButtonSettings();angular.forEach(c.social.shareButtons,function(b){var c=d[b];c&&(c.adobeTracker={linkName:"Social Share",trackId:c.friendlyName,trackVars:"eVar13,eVar63,events"},a.shareButtons.push(c))})}],link:function(a,b,d){d.phxTrackId||(d.phxTrackId="Social Tools",b.attr("phx-track-id",d.phxTrackId)),a.showSocialToolsPrintButton=d.showSocialToolsPrintButton?"true"===d.showSocialToolsPrintButton:c.social.showSocialToolsPrintButton,a.showSocialToolsCommentButton=d.showSocialToolsCommentButton?"true"===d.showSocialToolsCommentButton:c.social.showSocialToolsCommentButton},template:a,replace:!0}}]}),define("phxCore/directives/phxSkinBgimg",[],function(){"use strict";return[function(){return{restrict:"A",template:"{{title}}",link:function(a,b,c){a.$watch(c.phxSkinBgimg,function(d){if(d){var e=d.imageUrl;d.imageUrl?(b.css({"background-image":"url("+e+")"}),c.$addClass("mm-has-svg")):(b.css({"background-image":"none"}),c.$removeClass("mm-has-svg")),d.title?a.title=d.title:c.defaultHeadingTitle?a.title=a.$eval(c.defaultHeadingTitle):a.title=""}})}}}]}),define("text!phxCore/html/phxCarousel.html",[],function(){return'<button aria-label="Next" class="m-carousel--next m-icon-button ng-hide-animate" ng-show="nextBtn && !hideNavBtns" ng-click="scrollToNext()">\n    <phoenix-icon-fallback icon="ico_angle_right" class="m-svg m-gallery-overlay--nav-next-icon m-icon-button--icon">\n        <svg>\n            <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_angle_right\'}}" xlink:href=""></use>\n        </svg>\n    </phoenix-icon-fallback>\n</button>\n<button aria-label="Previous" class="m-carousel--previous m-icon-button ng-hide-animate" ng-show="previousBtn && !hideNavBtns" ng-click="scrollToPrevious()">\n    <phoenix-icon-fallback icon="ico_angle_left" class="m-svg m-gallery-overlay--nav-prev-icon m-icon-button--icon">\n        <svg>\n            <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_angle_left\'}}" xlink:href=""></use>\n        </svg>\n    </phoenix-icon-fallback>\n</button>\n<div class="m-carousel--container" ng-class="{\'mm-carousel--leftside-shadow\': previousBtn, \'mm-carousel--rightside-shadow\': nextBtn}" ng-transclude></div>\n'}),define("phxCore/directives/phxCarousel",["text!phxCore/html/phxCarousel.html"],function(a){"use strict";return["$timeout",function(b){return{restrict:"A",replace:!1,template:a,transclude:!0,scope:{activeSlide:"=",hideNavBtns:"="},controller:["$scope",function(a){a.previousBtn=!1,a.nextBtn=!1,this.registerContent=function(b){a.carouselContainer=b}}],link:function(a,c,d){var e,f=a.carouselContainer,g=f[0],h={transitionDuration:300},i="is-active",j=[],k=[],l=0,m=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},n=function(a){var b=angular.element(a).width(),c=getComputedStyle(a);return b+=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10)},o=function(a){f.animate({scrollLeft:a},h.transitionDuration)},p=function(a,b){var c=k,d=b?"min":"max";return Math[d].apply(null,c.filter(function(c){return b?c>a:c<a}))},q=function(b,c){a.$apply(function(){a.previousBtn=b,a.nextBtn=c})},r=function(){var a=g.scrollLeft,b=g.scrollWidth,c=g.offsetWidth,d=c-a,e=b-a,f=d<c,h=e!==c;q(f,h),l=a},s=function(){var a=0;angular.forEach(g.children,function(b,c){var d=n(b)||b.offsetWidth,e=angular.element(b);e.attr("data-pos")||e.attr("data-pos",a),k.push(a),j.push({width:d,resetPoint:a}),a+=d})},t=function(){a.previousBtn=!1,a.nextBtn=g.scrollWidth!==g.offsetWidth};m()&&c.addClass("touch"),a.scrollToNext=function(){var a=p(l,!0);o(a)},a.scrollToPrevious=function(){var a=p(l,!1);o(a)},a.inverted=a.$eval(d.inverted),a.flush=a.$eval(d.flush);var u=function(){b(function(){var a=f.find("."+i),b=a.attr("data-pos")||0;o(b)})};b(function(){t(),s(),e=a.$watch("activeSlide",u)}),f.on("scroll",r),a.$on("$destroy",function(){e()})}}}]}),define("phxCore/directives/phxCarouselContent",[],function(){"use strict";return function(){return{restrict:"A",require:"^phxCarousel",link:function(a,b,c,d){d.registerContent(b)}}}}),define("phxCore/directives/phxConfigLivePreview",[],function(){"use strict";return["$timeout","Config","$http","$rootScope",function(a,b,c,d){function e(){c.get("/.api/versions").then(function(g){var h=g.data,i=!1,j=!1;f&&(h.siteConfigVersion!==f.siteConfigVersion&&(i=!0,c.get("/.api/config").then(function(c){for(var f in c.data)b[f]=c.data[f];d.$broadcast("phxConfigUpdated"),a(e,5e3)})),h.siteConfigVersion===f.siteConfigVersion&&h.stylesCodeVersion===f.stylesCodeVersion||(i=!0,c.get("/site/styles/main.css").then(function(b){var c=document.createElement("style");c.type="text/css",c.innerText=b.data,c.id="phx-style";var d=angular.element("#phx-style");d.length?d[0].parentNode.replaceChild(c,d[0]):document.head.appendChild(c),j||(angular.element('link[rel="stylesheet"][href*="main.css"]').remove(),j=!0),a(e,5e3)}))),i||a(e,1e3),f=h})["catch"](function(){a(e,1e3)})}var f;return{restrict:"A",link:function(a,b,c){e()}}}]}),define("phxCore/directives/phxGeoMap",[],function(){"use strict";return["phxMapService",function(a){return{restrict:"A",scope:{mapType:"@",zoom:"@"},link:function(b,c,d){var e,f=c.find("script");if(f.length)try{e=JSON.parse(f[0].innerHTML)}catch(g){console.error(g)}e&&e.items&&e.items.length&&a.apiPromise().then(function(){var a,d=b.mapType||google.maps.MapTypeId.ROADMAP,f=new google.maps.LatLngBounds,g=new google.maps.InfoWindow;angular.forEach(e.items,function(e){if(e.geoCoordinates&&e.geoCoordinates.latitude&&e.geoCoordinates.longitude){var h={lat:e.geoCoordinates.latitude,lng:e.geoCoordinates.longitude};a||(a=new google.maps.Map(c[0],{center:h,zoom:b.zoom?parseInt(b.zoom,10):5}),a.setMapTypeId(google.maps.MapTypeId[d]));var i=new google.maps.Marker({map:a,position:h});google.maps.event.addListener(i,"click",function(b,c){return function(){var d=c.teaser||c.metaDescription||c.dek||"";g.setContent('<a href="'+c.path+'">'+c.title+"</a><p>"+d+"</p>"),g.open(a,b)}}(i,e)),f.extend(i.position)}}),a&&a.fitBounds(f)})}}}]}),define("phxCore/filters/phxStripHtml",[],function(){"use strict";return function(){return function(a){return void 0===a?null:String(a).replace(/<[^>]+>/gm,"")}}}),define("text!phxCore/../../locale/en.json",[],function(){return'{\n    "AD_BREAK": "Advertisement  Continue reading below",\n    "ADVERTISEMENT": "ADVERTISEMENT",\n    "BYLINE_LABEL": "By",\n    "CLOSE": "Close",\n    "CMP_AMP_ACCEPT_BUTTON": "I AGREE",\n    "CMP_AMP_BODY_TEXT": "When you visit our site, we use services provided by Tempest, a product of Say Media, Inc., for content delivery and ad selection, including personalised digital ads. Say Media and its partners use technology such as cookies to customise your site experience, analyse website traffic, deliver content, and measure the effectiveness of advertisements.<br><br>By continuing to use this site, you consent to the use of cookies. To learn more about cookies and how to disable them, view our <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Cookie Policy</a>.<br><br>By clicking I Agree on this screen you agree that Say Media and its partners may process your personal data for the purposes of information storage and access; personalisation; ad selection, delivery, and reporting; content selection, delivery and reporting; and measurement. For more information please view our <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Privacy Policy</a>.",\n    "CMP_PRIMARY_HEADLINE": "About Your Privacy",\n    "CMP_MAIN_BODY_TEXT": "When you visit our site, we use services provided by Tempest, a product of Say Media, Inc., for content delivery and ad selection, including personalised digital ads. Say Media and its partners use technology such as cookies to customise your site experience, analyse website traffic, deliver content, and measure the effectiveness of advertisements across the websites and mobile services provided by Say Media. By continuing to use this site, you consent to the use of cookies unless you have disabled them. To learn more about cookies and how to disable them, view our <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Cookie Policy</a>.<br><br>Additionally, this site is supported by interest-based advertising. By clicking \\"I Agree\\" on this screen you agree that Say Media and its partners may process your personal data for the purposes of information storage and access; personalisation; ad selection, delivery, and reporting; content selection, delivery and reporting; and measurement. Please see the <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Say Media Platform Privacy Policy</a> for more information about our use of data and your rights.<br><br>If you do not choose to consent, or if you would like more information about the data we and our partners collect and how we use the data we collect, click \\"More Information\\". You can always manage your settings or withdraw consent from the \\"Privacy Settings\\" link in the menu on this site.",\n    "CMP_ACCEPT_BUTTON": "I AGREE",\n    "CMP_SETTINGS_BUTTON": "More Information",\n    "CMP_SETTINGS_HEADLINE": "Manage Your Preferences",\n    "CMP_SETTINGS_BODY_TEXT": "You can set your consent preferences and determine how you want your data to be used based on the purposes below. You may set your preferences for us independently from those of third-party partners. Each purpose has a description so that you know how we and partners use your data.",\n    "CMP_PARTNERS_HEADLINE": "PARTNERS",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Comment} one{1 Comment} other{# Comments}}",\n    "COMMENT_FROM": "comment from",\n    "EMAIL_PLACEHOLDER": "email address",\n    "ENGAGEMENT_ERROR": "Error!",\n    "ENGAGEMENT_SUBSCRIBE": "SUBSCRIBE",\n    "ENGAGEMENT_SUCCESS": "Thanks!",\n    "NEWSLETTER_SUCCESS_TITLE": "Thanks for subscribing!",\n    "NEWSLETTER_SUCCESS_BODY": "Please check your email to confirm your subscription.",\n    "NEWSLETTER_ERROR": "An error occurred.",\n    "NEWSLETTER_SUBMIT": "Subscribe",\n    "FEED_LOADING": "Loading",\n    "FEED_MORE": "See More",\n    "GALLERY": "Gallery",\n    "HIDE_INFO": "HIDE INFO",\n    "HOME": "Home",\n    "LIKE_COUNT": "{COUNT, plural, =0{Like} one{1 Like} other{# Likes}}",\n    "NO_RESULTS": "No results found",\n    "OUTSTREAM_CLICKOUT": "Visit Website",\n    "OUTSTREAM_THANKS": "Thanks for watching!",\n    "READ_MORE": "read more",\n    "SEARCH_PLACEHOLDER": "Search",\n    "SEE_LESS": "See Less",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Share} other{Shares}}",\n    "SHARES": "SHARES",\n    "SHARES_LABEL": "{COUNT, plural, one{Share} other{Shares}}",\n    "SHOW_INFO": "SHOW INFO",\n    "SKIP": "SKIP",\n    "TAGS": "Tags"\n}\n';
}),define("text!phxCore/../../locale/en-us.json",[],function(){return'{\n    "AD_BREAK": "Advertisement  Continue reading below",\n    "ADVERTISEMENT": "ADVERTISEMENT",\n    "BYLINE_LABEL": "By",\n    "CLOSE": "Close",\n    "CMP_AMP_ACCEPT_BUTTON": "I AGREE",\n    "CMP_AMP_BODY_TEXT": "When you visit our site, we use services provided by Tempest, a product of Say Media, Inc., for content delivery and ad selection, including personalised digital ads. Say Media and its partners use technology such as cookies to customise your site experience, analyse website traffic, deliver content, and measure the effectiveness of advertisements.<br><br>By continuing to use this site, you consent to the use of cookies. To learn more about cookies and how to disable them, view our <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Cookie Policy</a>.<br><br>By clicking I Agree on this screen you agree that Say Media and its partners may process your personal data for the purposes of information storage and access; personalisation; ad selection, delivery, and reporting; content selection, delivery and reporting; and measurement. For more information please view our <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Privacy Policy</a>.",\n    "CMP_PRIMARY_HEADLINE": "About Your Privacy",\n    "CMP_MAIN_BODY_TEXT": "When you visit our site, we use services provided by Tempest, a product of Say Media, Inc., for content delivery and ad selection, including personalised digital ads. Say Media and its partners use technology such as cookies to customise your site experience, analyse website traffic, deliver content, and measure the effectiveness of advertisements across the websites and mobile services provided by Say Media. By continuing to use this site, you consent to the use of cookies unless you have disabled them. To learn more about cookies and how to disable them, view our <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Cookie Policy</a>.<br><br>Additionally, this site is supported by interest-based advertising. By clicking \\"I Agree\\" on this screen you agree that Say Media and its partners may process your personal data for the purposes of information storage and access; personalisation; ad selection, delivery, and reporting; content selection, delivery and reporting; and measurement. Please see the <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Say Media Platform Privacy Policy</a> for more information about our use of data and your rights.<br><br>If you do not choose to consent, or if you would like more information about the data we and our partners collect and how we use the data we collect, click \\"More Information\\". You can always manage your settings or withdraw consent from the \\"Privacy Settings\\" link in the menu on this site.",\n    "CMP_ACCEPT_BUTTON": "I AGREE",\n    "CMP_SETTINGS_BUTTON": "More Information",\n    "CMP_SETTINGS_HEADLINE": "Manage Your Preferences",\n    "CMP_SETTINGS_BODY_TEXT": "You can set your consent preferences and determine how you want your data to be used based on the purposes below. You may set your preferences for us independently from those of third-party partners. Each purpose has a description so that you know how we and partners use your data.",\n    "CMP_PARTNERS_HEADLINE": "PARTNERS",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Comment} one{1 Comment} other{# Comments}}",\n    "COMMENT_FROM": "comment from",\n    "EMAIL_PLACEHOLDER": "email address",\n    "ENGAGEMENT_ERROR": "Error!",\n    "ENGAGEMENT_SUBSCRIBE": "SUBSCRIBE",\n    "ENGAGEMENT_SUCCESS": "Thanks!",\n    "NEWSLETTER_SUCCESS_TITLE": "Thanks for subscribing!",\n    "NEWSLETTER_SUCCESS_BODY": "Please check your email to confirm your subscription.",\n    "NEWSLETTER_ERROR": "An error occurred.",\n    "NEWSLETTER_SUBMIT": "Subscribe",\n    "FEED_LOADING": "Loading",\n    "FEED_MORE": "See More",\n    "GALLERY": "Gallery",\n    "HIDE_INFO": "HIDE INFO",\n    "HOME": "Home",\n    "LIKE_COUNT": "{COUNT, plural, =0{Like} one{1 Like} other{# Likes}}",\n    "NO_RESULTS": "No results found",\n    "OUTSTREAM_CLICKOUT": "Visit Website",\n    "OUTSTREAM_THANKS": "Thanks for watching!",\n    "READ_MORE": "read more",\n    "SEARCH_PLACEHOLDER": "Search",\n    "SEE_LESS": "See Less",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Share} other{Shares}}",\n    "SHARES": "SHARES",\n    "SHARES_LABEL": "{COUNT, plural, one{Share} other{Shares}}",\n    "SHOW_INFO": "SHOW INFO",\n    "SKIP": "SKIP",\n    "TAGS": "Tags"\n}\n'}),define("text!phxCore/../../locale/fr-ca.json",[],function(){return'{\n    "AD_BREAK": "Publicit  Continuez la lecture ci-dessous",\n    "ADVERTISEMENT": "Publicit",\n    "BYLINE_LABEL": "Par",\n    "CLOSE": "Fermer",\n    "CMP_AMP_ACCEPT_BUTTON": "JE SUIS D\'ACCORD",\n    "CMP_AMP_BODY_TEXT": "Quand vous visitez notre site, nous utilisons des services fournis par Tempest, un produit de Say Media, Inc., pour la livraison de contenu et la slection des publicits, incluant la personnalisation des publicits digitales. Say Media et ses partenaires utilisent des technologies comme les cookies pour personnaliser votre exprience sur le site, analyser le trafic du site, livrer le contenu, et mesurer la performance de la publicit.<br><br>En continuant  utiliser ce site, vous consentez  lusage des cookies. Pour en savoir plus sur les cookies et comment les dsactiver, voir notre <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>politique dusage des cookies</a>.<br><br>En cliquant sur Je suis daccord sur cet cran vous acceptez que Say Media et ses partenaires puissent analyser vos donnes personnelles dans le but d\'accs et de stockage dinformation; de personnalisation; de slection, livraison et analyse de publicits, de slection, livraison et analyse de contenu; et pour analyse. Pour plus dinformation merci de voir notre <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>politique de confidentialit</a>.",\n    "CMP_PRIMARY_HEADLINE": "A propos de la politique de confidentialit",\n    "CMP_MAIN_BODY_TEXT": "Quand vous visitez notre site, nous utilisons des services fournis par Tempest, un produit de Say Media, Inc., pour la livraison de contenu et la slection des publicits, incluant la personnalisation des publicits digitales. Say Media et ses partenaires utilisent des technologies comme les cookies pour personnaliser votre exprience sur le site, analyser le trafic du site, livrer le contenu, et mesurer la performance de la publicit sur l\'ensemble des sites web et services mobiles fournis par Say Media.<br><br>En continuant  utiliser ce site, vous consentez  lusage des cookies sauf si vous les avez dsactivs. Pour en savoir plus sur les cookies et comment les dsactiver, voir notre <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>politique dusage des cookies</a>.<br><br>De plus, ce site est support par de la publicit personnalise. En cliquant sur Je suis daccord sur cet cran vous acceptez que Say Media et ses partenaires puissent analyser vos donnes personnelles dans le but d\'accs et de stockage dinformation; de personnalisation; de slection, livraison et analyse de publicits, de slection, livraison et analyse de contenu; et pour analyse. Merci de voir la <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>politique de confidentialit de la plateforme Say Media</a> pour plus dinformation sur nos usage des donnes et vos droits.<br><br>Si vous choisissez de ne pas consentir, ou si vous souhaitez plus dinformation sur les donnes que nous et nos partenaires collectons, cliquez sur Plus dinformation. Vous pouvez toujours grer vos prfrences ou retirer votre consentement depuis le lien Prfrences de confidentialit dans le menu de ce site.",\n    "CMP_ACCEPT_BUTTON": "JE SUIS D\'ACCORD",\n    "CMP_SETTINGS_BUTTON": "Plus d\'information",\n    "CMP_SETTINGS_HEADLINE": "Grer vos prfrences",\n    "CMP_SETTINGS_BODY_TEXT": "Vous pouvez choisir vos prfrences de consentement et dfinir comment vous voulez que vos donnes soient utilises par rapport aux objectifs suivant. Vous pouvez choisir vos prfrences pour nous de manire indpendante de celles de nos partenaires. Chaque objectif a une description indiquant comment nous et nos partenaires utilisons vos donnes.",\n    "CMP_PARTNERS_HEADLINE": "PARTENAIRES",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Commenter} one{1 Commentaire} other{# Commentaires}}",\n    "COMMENT_FROM": "commentaire de",\n    "EMAIL_PLACEHOLDER": "adresse e-mail",\n    "ENGAGEMENT_ERROR": "Erreur!",\n    "ENGAGEMENT_SUBSCRIBE": "ABONNEZ-VOUS",\n    "ENGAGEMENT_SUCCESS": "Merci!",\n    "FEED_LOADING": "Chargement",\n    "FEED_MORE": "Charger la suite",\n    "GALLERY": "Galerie",\n    "HIDE_INFO": "CACHER INFO",\n    "HOME": "Accueil",\n    "LIKE_COUNT": "{COUNT, plural, =0{Like} one{1 Like} other{# Likes}}",\n    "NO_RESULTS": "Aucun rsultat trouv",\n    "OUTSTREAM_CLICKOUT": "Visitez le site Web",\n    "OUTSTREAM_THANKS": "Merci d\'avoir regard!",\n    "READ_MORE": "Lire la suite",\n    "SEARCH_PLACEHOLDER": "Rechercher",\n    "SEE_LESS": "Voir moins",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Partage} other{Partages}}",\n    "SHARES": "PARTAGES",\n    "SHARES_LABEL": "{COUNT, plural, one{Partage} other{Partages}}",\n    "SHOW_INFO": "MONTRER INFO",\n    "SKIP": "SAUTER",\n    "TAGS": "Tags"\n}\n'}),define("text!phxCore/../../locale/es-es.json",[],function(){return'{\n    "AD_BREAK": "Publicidad  Continua leyendo abajo",\n    "ADVERTISEMENT": "Publicidad",\n    "BYLINE_LABEL": "De",\n    "CLOSE": "Cerrado",\n    "CMP_AMP_ACCEPT_BUTTON": "Aceptar",\n    "CMP_AMP_BODY_TEXT": "Cuando visitas nuestro espacio, nosotros usamos servicios proporcionados por Tempest, un producto de Say Media, Inc., para entregararte contenido y  anuncios seleccionados, que incluyen anuncios digitales personalizados. Say Media y sus socios usan tecnologa como cookies para personalizar su experiencia, analizando el trfico del sitio web, distribuyendo contenido y midiendo la efectividad de los anuncios.<br><br>Si continua utilizando este sitio, usted acepta el uso de cookies. Para obtener ms informacin sobre las cookies y cmo deshabilitarlas, ve a nuestras <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Poltica de Cookies</a>.<br><br>Si hace clic en \\"Aceptar\\" en esta pantalla, usted acepta que Say Media y sus socios pueden procesar sus datos personales con el fin de almacenar y acceder la informacin; personalizacin; seleccin de anuncios, entrega eh informes; seleccin de contenido, entrega eh informes; y medicines. Para mas informaction porfavor ve a nuestra <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Poltica de privacidad</a>.",\n    "CMP_PRIMARY_HEADLINE": "Acerca de su privacidad",\n    "CMP_MAIN_BODY_TEXT": "Cuando visitas nuestro espacio, nosotros utilizamos servicios proporcionados por Tempest, un producto de Say Media, Inc., para entregararte contenido y  anuncios seleccionados, que incluyen anuncios digitales personalizados. Say Media y sus socios usan tecnologa como cookies para personalizar su experiencia, analizando el trfico del sitio web, distribuyendo contenido y midiendo la efectividad de los anuncios en los sitios web y servicios mviles proporcionados por Say Media. Si continua utilizando este sitio, usted acepta el uso de cookies a menos que las haya desactivado. Para obtener ms informacin sobre las cookies y cmo deshabilitarlas, ve a nuestras <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Poltica de Cookies</a>.<br><br>Adems, este sitio est respaldado por publicidad basada en intereses. Al hacer clic en \\"Aceptar\\" en esta pantalla, acepta que Say Media y sus socios pueden procesar sus datos personales con el fin de almacenar y acceder la informacin; personalizacin; seleccin de anuncios, entrega y informes; seleccin de contenido, entrega eh informes; y medicines. Consulte la <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Poltica de privacidad de Say Media Platform</a> para obtener ms informacin sobre nuestro uso de los datos y sus derechos.<br><br>Si no elige aceptar, o si desea obtener ms informacin sobre los datos que nosotros y nuestros socios recopilan y cmo los usan, haga clic en \\"Ms informacin\\". Usted siempre puede administrar su configuracin o retirar el consentimiento del enlace \\"Configuracin de privacidad\\" en el men de este sitio.",\n    "CMP_ACCEPT_BUTTON": "Aceptar",\n    "CMP_SETTINGS_BUTTON": "Ms informacin",\n    "CMP_SETTINGS_HEADLINE": "Administracion de preferencias",\n    "CMP_SETTINGS_BODY_TEXT": "Puede elegir sus preferencias de consentimiento y determinar cmo desea que se utilicen sus datos en base a los siguientes objetivos. Tambien, puede elegir sus preferencias independientemente de las de nuestros socios. Cada objetivo contiene una descripcin de cmo nosotros y nuestros socios usamos sus datos.",\n    "CMP_PARTNERS_HEADLINE": "Socios",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Comentarios} one{1 Comentario} other{# Comentarios}}",\n    "COMMENT_FROM": "comentario de",\n    "EMAIL_PLACEHOLDER": "Correo electrnico",\n    "ENGAGEMENT_ERROR": "Error!",\n    "ENGAGEMENT_SUBSCRIBE": "SUSCRBETE",\n    "ENGAGEMENT_SUCCESS": "Gracias!",\n    "FEED_LOADING": "Cargando",\n    "FEED_MORE": "Ver Mas",\n    "GALLERY": "Galera",\n    "HIDE_INFO": "Ocultar Info",\n    "HOME": "Inicio",\n    "LIKE_COUNT": "{COUNT, plural, =0{Me gustan} one{1 Me gusta} other{# Me gustan}}",\n    "NO_RESULTS": "No se han encontrado resultados",\n    "OUTSTREAM_CLICKOUT": "Visita el sitio web",\n    "OUTSTREAM_THANKS": "Gracias por ver el video!",\n    "READ_MORE": "Leer ms",\n    "SEARCH_PLACEHOLDER": "Busqueda",\n    "SEE_LESS": "Ver menos",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Compartidos} other{Compartidos}}",\n    "SHARES": "Compartidas",\n    "SHARES_LABEL": "{COUNT, plural, one{Compartida} other{Compartidas}}",\n    "SHOW_INFO": "Mostrar Info",\n    "SKIP": "OMITIR",\n    "TAGS": "Etiquetas"\n}\n'}),define("text!phxCore/../../locale/es-419.json",[],function(){return'{\n    "AD_BREAK": "Publicidad  Continua leyendo abajo",\n    "ADVERTISEMENT": "Publicidad",\n    "BYLINE_LABEL": "De",\n    "CLOSE": "Cerrado",\n    "CMP_AMP_ACCEPT_BUTTON": "Aceptar",\n    "CMP_AMP_BODY_TEXT": "Cuando visitas nuestro espacio, nosotros usamos servicios proporcionados por Tempest, un producto de Say Media, Inc., para entregararte contenido y  anuncios seleccionados, que incluyen anuncios digitales personalizados. Say Media y sus socios usan tecnologa como cookies para personalizar su experiencia, analizando el trfico del sitio web, distribuyendo contenido y midiendo la efectividad de los anuncios.<br><br>Si continua utilizando este sitio, usted acepta el uso de cookies. Para obtener ms informacin sobre las cookies y cmo deshabilitarlas, ve a nuestras <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Poltica de Cookies</a>.<br><br>Si hace clic en \\"Aceptar\\" en esta pantalla, usted acepta que Say Media y sus socios pueden procesar sus datos personales con el fin de almacenar y acceder la informacin; personalizacin; seleccin de anuncios, entrega eh informes; seleccin de contenido, entrega eh informes; y medicines. Para mas informaction porfavor ve a nuestra <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Poltica de privacidad</a>.",\n    "CMP_PRIMARY_HEADLINE": "Acerca de su privacidad",\n    "CMP_MAIN_BODY_TEXT": "Cuando visitas nuestro espacio, nosotros utilizamos servicios proporcionados por Tempest, un producto de Say Media, Inc., para entregararte contenido y  anuncios seleccionados, que incluyen anuncios digitales personalizados. Say Media y sus socios usan tecnologa como cookies para personalizar su experiencia, analizando el trfico del sitio web, distribuyendo contenido y midiendo la efectividad de los anuncios en los sitios web y servicios mviles proporcionados por Say Media. Si continua utilizando este sitio, usted acepta el uso de cookies a menos que las haya desactivado. Para obtener ms informacin sobre las cookies y cmo deshabilitarlas, ve a nuestras <a href=\'https://www.saymedia.com/cookiepolicy\' target=\'_blank\'>Poltica de Cookies</a>.<br><br>Adems, este sitio est respaldado por publicidad basada en intereses. Al hacer clic en \\"Aceptar\\" en esta pantalla, acepta que Say Media y sus socios pueden procesar sus datos personales con el fin de almacenar y acceder la informacin; personalizacin; seleccin de anuncios, entrega y informes; seleccin de contenido, entrega eh informes; y medicines. Consulte la <a href=\'https://www.saymedia.com/privacy\' target=\'_blank\'>Poltica de privacidad de Say Media Platform</a> para obtener ms informacin sobre nuestro uso de los datos y sus derechos.<br><br>Si no elige aceptar, o si desea obtener ms informacin sobre los datos que nosotros y nuestros socios recopilan y cmo los usan, haga clic en \\"Ms informacin\\". Usted siempre puede administrar su configuracin o retirar el consentimiento del enlace \\"Configuracin de privacidad\\" en el men de este sitio.",\n    "CMP_ACCEPT_BUTTON": "Aceptar",\n    "CMP_SETTINGS_BUTTON": "Ms informacin",\n    "CMP_SETTINGS_HEADLINE": "Administracion de preferencias",\n    "CMP_SETTINGS_BODY_TEXT": "Puede elegir sus preferencias de consentimiento y determinar cmo desea que se utilicen sus datos en base a los siguientes objetivos. Tambien, puede elegir sus preferencias independientemente de las de nuestros socios. Cada objetivo contiene una descripcin de cmo nosotros y nuestros socios usamos sus datos.",\n    "CMP_PARTNERS_HEADLINE": "Socios",\n    "COMMENT_COUNT": "{COUNT, plural, =0{Comentarios} one{1 Comentario} other{# Comentarios}}",\n    "COMMENT_FROM": "comentario de",\n    "EMAIL_PLACEHOLDER": "Correo electrnico",\n    "ENGAGEMENT_ERROR": "Error!",\n    "ENGAGEMENT_SUBSCRIBE": "SUBSCRIBE",\n    "ENGAGEMENT_SUCCESS": "Gracias!",\n    "FEED_LOADING": "Cargando",\n    "FEED_MORE": "Ver Mas",\n    "GALLERY": "Galera",\n    "HIDE_INFO": "Ocultar Info",\n    "HOME": "Inicio",\n    "LIKE_COUNT": "{COUNT, plural, =0{Me gustan} one{1 Me gusta} other{# Me gustan}}",\n    "NO_RESULTS": "No se han encontrado resultados",\n    "OUTSTREAM_CLICKOUT": "Visita el sitio web",\n    "OUTSTREAM_THANKS": "Gracias por ver el video!",\n    "READ_MORE": "Leer ms",\n    "SEARCH_PLACEHOLDER": "Busqueda",\n    "SEE_LESS": "Ver menos",\n    "SHARE_COUNT": "{DISPLAY_COUNT} {COUNT, plural, one{Compartidos} other{Compartidos}}",\n    "SHARES": "Compartidas",\n    "SHARES_LABEL": "{COUNT, plural, one{Compartida} other{Compartidas}}",\n    "SHOW_INFO": "Mostrar Info",\n    "SKIP": "OMITIR",\n    "TAGS": "Etiquetas"\n}\n'}),define("phxCore/module",["cornerstone/module","phxCore/services/phxBeaconClient","phxCore/services/phxEventBus","phxCore/services/phxEventDemux","phxCore/services/phxImageOptions","phxCore/services/phxImageOptionsProfiles","phxCore/services/phxPage","phxCore/services/phxPageReporting","phxCore/services/phxPixelClient","phxCore/services/phxResponsiveSize","phxCore/services/phxSocial","phxCore/services/phxUtil","phxCore/services/phxEvents","phxCore/directives/phxGallery","phxCore/directives/phxHtml","phxCore/directives/phxPageManager","phxCore/directives/phxShareButton","phxCore/directives/phxSiteSkinSticky","phxCore/directives/phxSocialTools","phxCore/directives/phxSkinBgimg","phxCore/directives/phxCarousel","phxCore/directives/phxCarouselContent","phxCore/directives/phxConfigLivePreview","phxCore/directives/phxGeoMap","phxCore/filters/phxStripHtml","text!../../locale/en.json","text!../../locale/en-us.json","text!../../locale/fr-ca.json","text!../../locale/es-es.json","text!../../locale/es-419.json"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){"use strict";var E="/unsupportedBrowser.html",F=angular.module("phxCore",["phxConfig","cornerstone","respond","ngAnimate","ngTouch","pascalprecht.translate","ngAria"]);return F.service("phxBeaconClient",b).service("phxEventBus",c).service("phxEventDemux",d).service("phxImageOptions",e).value("phxImageOptionsProfiles",f).provider("phxPage",g).service("phxPageReporting",h).service("phxPixelClient",i).service("phxResponsiveSize",j).service("phxSocial",k).service("phxUtil",l).factory("phxEvents",m).directive("phxGallery",n.phxGalleryFactory).directive("phxGalleryImage",n.phxGalleryImageFactory).directive("phxGalleryLauncher",n.phxGalleryLauncherFactory).directive("phxHtml",o).directive("phxPageManager",p).directive("phxShareButton",q).directive("phxSiteSkinSticky",r).directive("phxSocialTools",s).directive("phxSkinBgimg",t).directive("phxCarousel",u).directive("phxCarouselContent",v).directive("phxConfigLivePreview",w).directive("phxGeoMap",x).filter("phxStripHtml",y).value("isRegistered",!1).value("currentPrincipal",!1).value("currentUserProfile",null).run(["$rootScope","Config","phxEvents","$location","$document","$window",function(a,b,c,d,e,f){a.config=b,a.appCacheBuster=f.appCacheBuster,a.location=d,a.currentTime=(new Date).getTime(),a.DATETIME_FORMAT="yyyy-MM-ddTHH:mm";var g=document.createElement("div");g.style.webkitBackgroundClip="text";var h=g.style.cssText.indexOf("text");h>0&&e.find("html").addClass("background-clip"),FixedSticky.tests.sticky=!1;var i=function(){a.windowHeight=f.innerHeight,a.windowWidth=f.innerWidth};c.$on("resize",i),i()}]).run(["Respond","Config",function(a,b){b.mediaBreakPoints&&a.addBreakpoint(b.mediaBreakPoints)}]).run(["$rootScope","$window",function(a,b){a.$on("$locationChangeStart",function(a,c,d){c!==d&&d.split("#")[0]!==c.split("#")[0]&&(a.preventDefault(),b.location.href=c)})}]).config(["phxCategorizrProvider","ConfigProvider",function(a,b){var c=b.config,d=a.$get();c.minimumBrowserVersions&&c.minimumBrowserVersions[d.getBrowser()]&&d.getBrowserVersion()<c.minimumBrowserVersions[d.getBrowser()]&&(window.location=E)}]).config(["$compileProvider","AppConfigProvider",function(a,b){a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|twitter|tumblr|fb|gplus|pinterest|instagram|linkedin|youtube|javascript):/),a.debugInfoEnabled(b.getModuleConfig("phxCore").angularDebugging)}]).config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","*://res.cloudinary.com/**"])}]).config(["$httpProvider","phxUtilProvider",function(a,b){var c=/^\s*(\[|\{[^\{])/,d=/[\}\]]\s*$/,e=/^\)\]\}',?\n/;a.defaults.transformResponse=[function(a,f){return angular.isString(a)&&(a=a.replace(e,""),c.test(a)&&d.test(a)&&(a=b.$get().inflateItemJson(a))),a}],a.interceptors.push(["Config","$location",function(a,b){return{request:function(c){var d=document.createElement("a");return d.href=c.url,d.hostname===b.host()&&"published"!==a.configName&&(c.params=c.params||{},c.params.config=a.configName,c.headers=c.headers||{},c.headers["X-Say-ConfigVersion"]=a.configVersion),c}}}])}]).config(["$translateProvider","ConfigProvider",function(a,b){var c=b.$get(),d=c.locale||"en",e=d.substr(0,2);a.useSanitizeValueStrategy("escape"),a.useMessageFormatInterpolation(),a.translations("en",JSON.parse(z)),a.translations("en-us",JSON.parse(A)),a.translations("fr-ca",JSON.parse(B)),a.translations("es-es",JSON.parse(C)),a.translations("es-419",JSON.parse(D)),a.fallbackLanguage([e,"en"]),a.preferredLanguage(d)}]).config(["phxPageProvider","phxUserProvider",function(a,b){a.configure({isAdFree:b.isUserEligibleForAdFree()})}]),F}),define("phxTml/services/phxMapService",[],function(){"use strict";return["$q","$window","Config",function(a,b,c){function d(){return e.promise}var e=a.defer();b.googleMapsReady=function(a){return function(){a.resolve(!0),delete b.googleMapsReady}}(e);var f=c.embed&&c.embed.services?c.embed.services.mapServiceKey:null;return f?(function(){var a=document.createElement("script");a.setAttribute("language","javascript"),a.setAttribute("type","text/javascript"),a.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+f+"&sensor=false&callback=googleMapsReady"),document.body.appendChild(a)}(),{apiPromise:d}):{apiPromise:d,data:function(){return{}}}}]}),define("phxTml/services/phxTmlGalleryUi",[],function(){"use strict";return[function(){function a(){return function(a,b){f=a,g=b,this.init=function(){angular.forEach(h,function(c){c(a,b)})}}}function b(){return f}function c(){return g}function d(a){h.push(a)}function e(a){var b=h.indexOf(a);b>-1&&h.splice(b,1)}var f,g,h=[];return{initSlideshow:a,getSlideshow:b,getSlideshowFramework:c,watchSlideshowController:d,unwatchSlideshowController:e}}]}),function(a,b){"function"==typeof define&&define.amd?define("photoswipe/photoswipe",b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&g<8&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(i<4.4&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;n<4;n++){c=m[n];for(var o=0;o<3;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.6,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.5},maxSpreadZoom:2,modal:!0,scaleMode:"fit",alwaysFadeIn:!1};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=function(a,b){e.extend(f,b.publicMethods),va.push(a)},ya=function(a){var b=$b();return a>b-1?a-b:a<0?b+a:a},za={},Aa=function(a,b){return za[a]||(za[a]=[]),za[a].push(b)},Ba=function(a){var b=za[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Ca=function(){return(new Date).getTime()},Da=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Ea=function(a,b,c,d){a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Fa=function(){da&&Ea(da,oa.x,oa.y,s)},Ga=function(a){a.container&&Ea(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel)},Ha=function(a,b){b[E]=u+a+"px, 0px"+v},Ia=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-rb.x);(c<0&&d>0||c>=$b()-1&&d<0)&&(a=rb.x+d*i.mainScrollEndFriction)}rb.x=a,Ha(a,n)},Ja=function(a,b){var c=sb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},Ka=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},La=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Ma=null,Na=function(){Ma&&(e.unbind(document,"mousemove",Na),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Ba("mouseUsed")),Ma=setTimeout(function(){Ma=null},100)},Oa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Na),e.bind(window,"resize scroll",f),Ba("bindEvents")},Pa=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Na),N.transform&&e.unbind(f.scrollWrap,"click",f),U&&e.unbind(window,p,f),Ba("unbindEvents")},Qa=function(a,b){var c=gc(f.currItem,pa,a);return b&&(ca=c),c},Ra=function(a){return a||(a=f.currItem),a.initialZoomLevel},Sa=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ta=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ja(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]&&(c[a]=b.max[a],!0))},Ua=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ha=function(a,b){b.left=a+"px"},Ga=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Fa=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=oa.x+"px",a.top=oa.y+"px"}}},Va=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Wa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Xa=function(){f.setScrollOffset(0,e.getScrollY())},Ya={},Za=0,$a=function(a){Ya[a]&&(Ya[a].raf&&I(Ya[a].raf),Za--,delete Ya[a])},_a=function(a){Ya[a]&&$a(a),Ya[a]||(Za++,Ya[a]={})},ab=function(){for(var a in Ya)Ya.hasOwnProperty(a)&&$a(a)},bb=function(a,b,c,d,e,f,g){var h,i=Ca();_a(a);var j=function(){if(Ya[a]){if(h=Ca()-i,h>=d)return $a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Ya[a].raf=H(j)}};j()},cb={shout:Ba,listen:Aa,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _;
},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ba("updateScrollOffset",ra)},applyZoomPan:function(a,b,c){oa.x=b,oa.y=c,s=a,Fa()},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Ua(),r={resize:f.updateSize,scroll:Xa,keydown:Va,click:Wa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f["init"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ba("firstUpdate"),m=m||i.index||0,(isNaN(m)||m<0||m>=$b())&&(m=0),f.currItem=Zb(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute("aria-hidden","false"),i.modal&&(ua?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Ba("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;c<h;c++)Ha((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Aa("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",i.focus&&a.focus(),Oa()}),f.setContent(y[1],m),f.updateCurrItem(),Ba("afterInit"),ua||(w=setInterval(function(){Za||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Ba("close"),Pa(),ac(f.currItem,null,!0,f.destroy))},destroy:function(){Ba("destroy"),Vb&&clearTimeout(Vb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),xb(),ab(),za=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Fa()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=ya(a);var b=a-m;ta=b,m=a,f.currItem=Zb(m),qa-=b,Ia(sa.x*qa),ab(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ba("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ba("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;a<h;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&c<2)){f.currItem=Zb(m),Ba("beforeChange",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;d<c;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ha((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ha(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=Zb(z);e.initialZoomLevel!==s&&(gc(e,pa),Ga(e))}ta=0,f.updateCurrZoomItem(),z=m,Ba("afterChange")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+"px"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Xa(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ia(sa.x*qa),Ba("beforeResize"),void 0!==o){for(var d,g,j,k=0;k<h;k++)d=y[k],Ha((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&$b()>2&&(j=ya(j)),g=Zb(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):d.index===-1&&j>=0&&f.setContent(d,j),g&&g.container&&(gc(g,pa),Ga(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Fa()),Ba("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,sb.x=Math.abs(b.x)-oa.x,sb.y=Math.abs(b.y)-oa.y,Ka(na,oa));var g=Qa(a,!1),h={};Ta("x",g,h,a),Ta("y",g,h,a);var i=s,j={x:oa.x,y:oa.y};La(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Fa()};c?bb("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},db=30,eb=10,fb={},gb={},hb={},ib={},jb={},kb=[],lb={},mb=[],nb={},ob=0,pb=la(),qb=0,rb=la(),sb=la(),tb=la(),ub=function(a,b){return a.x===b.x&&a.y===b.y},vb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},wb=function(a,b){return nb.x=Math.abs(a.x-b.x),nb.y=Math.abs(a.y-b.y),Math.sqrt(nb.x*nb.x+nb.y*nb.y)},xb=function(){Y&&(I(Y),Y=null)},yb=function(){U&&(Y=H(yb),Ob())},zb=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Ab=function(a,b){return!!a&&(!(a.className&&a.className.indexOf("pswp__scroll-wrap")>-1)&&(b(a)?a:Ab(a.parentNode,b)))},Bb={},Cb=function(a,b){return Bb.prevent=!Ab(a.target,i.isClickableElement),Ba("preventDragEvent",a,b,Bb),Bb.prevent},Db=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Eb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Fb=function(a,b,c){if(a-P>50){var d=mb.length>2?mb.shift():{};d.x=b,d.y=c,mb.push(d),P=a}},Gb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Hb={},Ib={},Jb=[],Kb=function(a){for(;Jb.length>0;)Jb.pop();return F?(ka=0,kb.forEach(function(a){0===ka?Jb[0]=a:1===ka&&(Jb[1]=a),ka++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Jb[0]=Db(a.touches[0],Hb),a.touches.length>1&&(Jb[1]=Db(a.touches[1],Ib))):(Hb.x=a.pageX,Hb.y=a.pageY,Hb.id="",Jb[0]=Hb),Jb},Lb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=rb.x+b.x,m=rb.x-lb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?"h"!==fa||"x"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(d<=0||m<0)&&$b()>1?(g=l,m<0&&l>lb.x&&(g=lb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(d<=0||m>0)&&$b()>1?(g=l,m>0&&l<lb.x&&(g=lb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,"x"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ia(g,!0),Z=g!==lb.x),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Mb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Yb)return void a.preventDefault();if(!T||"mousedown"!==a.type){if(Cb(a,!0)&&a.preventDefault(),Ba("pointerDown"),F){var b=e.arraySearch(kb,a.pointerId,"id");b<0&&(b=kb.length),kb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Kb(a),d=c.length;$=null,ab(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ba("firstTouchStart",c),Ka(na,oa),ma.x=ma.y=0,Ka(ib,c[0]),Ka(jb,ib),lb.x=sa.x*qa,mb=[{x:ib.x,y:ib.y}],P=O=Ca(),Qa(s,!0),xb(),yb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,Ka(na,oa),Ka(fb,c[0]),Ka(gb,c[1]),Eb(fb,gb,tb),sb.x=Math.abs(tb.x)-oa.x,sb.y=Math.abs(tb.y)-oa.y,aa=ba=wb(fb,gb))}}},Nb=function(a){if(a.preventDefault(),F){var b=e.arraySearch(kb,a.pointerId,"id");if(b>-1){var c=kb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Kb(a);if(fa||X||_)$=d;else{var f=Math.abs(d[0].x-ib.x)-Math.abs(d[0].y-ib.y);Math.abs(f)>=eb&&(fa=f>0?"h":"v",$=d)}}},Ob=function(){if($){var a=$.length;if(0!==a)if(Ka(fb,$[0]),hb.x=fb.x-ib.x,hb.y=fb.y-ib.y,_&&a>1){if(ib.x=fb.x,ib.y=fb.y,!hb.x&&!hb.y&&ub($[1],gb))return;Ka(gb,$[1]),W||(W=!0,Ba("zoomGestureStarted"));var b=wb(fb,gb),c=Tb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Ra(),g=Sa();if(c<e)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Da(j),Ba("onPinchClose",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);d<0&&(d=0),aa=b,Eb(fb,gb,pb),ma.x+=pb.x-tb.x,ma.y+=pb.y-tb.y,Ka(tb,pb),oa.x=Ja("x",c),oa.y=Ja("y",c),R=c>s,s=c,Fa()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(hb.x)>=eb&&(hb.x-=$[0].x-jb.x),Math.abs(hb.y)>=eb&&(hb.y-=$[0].y-jb.y)),ib.x=fb.x,ib.y=fb.y,0===hb.x&&0===hb.y)return;if("v"===fa&&i.closeOnVerticalDrag&&!zb()){ma.y+=hb.y,oa.y+=hb.y;var k=Gb();return S=!0,Ba("onVerticalDrag",k),Da(k),void Fa()}Fb(Ca(),fb.x,fb.y),X=!0,ca=f.currItem.bounds;var l=Lb("x",hb);l||(Lb("y",hb),La(oa),Fa())}}},Pb=function(a){if(N.isOldAndroid){if(T&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ba("pointerUp"),Cb(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(kb,a.pointerId,"id");if(c>-1)if(b=kb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Kb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return $=null,!0;1===j&&Ka(jb,h[0]),0!==j||fa||ea||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Ba("touchRelease",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),xb(),_?k=0:qb!==-1&&(k=Ca()-qb)),qb=1===j?Ca():-1,g=k!==-1&&k<150?"zoom":"swipe",_&&j<2&&(_=!1,1===j&&(g="zoomPointerUp"),Ba("zoomGestureEnded")),$=null,X||W||ea||S)if(ab(),Q||(Q=Qb()),Q.calculateSwipeSpeed("x"),S){var l=Gb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;bb("verticalDrag",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Da((1-n)*a+n),Fa()}),Ba("onVerticalDrag",1)}}else{if((Z||ea)&&0===j){var o=Sb(g,Q);if(o)return;g="zoomPointerUp"}if(!ea)return"swipe"!==g?void Ub():void(!Z&&s>f.currItem.fitRatio&&Rb(Q))}},Qb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){mb.length>1?(a=Ca()-P+50,b=mb[mb.length-2][d]):(a=Ca()-O,b=jb[d]),c.lastFlickOffset[d]=ib[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,bb("bounceZoomPan"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Fa()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){if(Ya.zoomPan&&(Ya.zoomPan.raf=H(c.panAnimLoop),c.now=Ca(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Fa(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05))return oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Fa(),void $a("zoomPan")}};return c},Rb=function(a){return a.calculateSwipeSpeed("y"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(_a("zoomPan"),a.lastNow=Ca(),void a.panAnimLoop())},Sb=function(a,b){var c;ea||(ob=m);var d;if("swipe"===a){var g=ib.x-jb.x,h=b.lastFlickDist.x<10;g>db&&(h||b.lastFlickOffset.x>20)?d=-1:g<-db&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,m<0?(m=i.loop?$b()-1:0,j=!0):m>=$b()&&(m=i.loop?0:$b()-1,j=!0),j&&!i.loop||(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-rb.x);return c||l>rb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,ob===m&&(c=!1),ea=!0,Ba("mainScrollAnimStart"),bb("mainScroll",rb.x,l,k,e.easing.cubic.out,Ia,function(){ab(),ea=!1,ob=-1,(c||ob!==m)&&f.updateCurrItem(),Ba("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Tb=function(a){return 1/ba*a*t},Ub=function(){var a=s,b=Ra(),c=Sa();s<b?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&s<b?(f.close(),!0):(ha&&(d=function(a){Da((g-h)*a+h)}),f.zoomTo(a,0,300,e.easing.cubic.out,d),!0)};xa("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Mb,r[B]=Nb,r[C]=Pb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Vb,Wb,Xb,Yb,Zb,$b,_b,ac=function(b,c,d,g){Vb&&clearTimeout(Vb),Yb=!0,Xb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){$a("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Da(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Ba("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),Yb=!1};if(!j||!h||void 0===h.x){var n=function(){Ba("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,Ka(oa,b.initialPosition),Fa(),a.style.opacity=d?0:1,Da(1),k()};return void n()}var o=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Fa()),_a("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Vb=setTimeout(function(){if(Ba("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Fa(),g?a.style.opacity=1-b:Da(m-b*m)};c?bb("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Vb=setTimeout(k,j+20))}else s=b.initialZoomLevel,Ka(oa,b.initialPosition),Fa(),Da(1),g?a.style.opacity=1:Da(1),Vb=setTimeout(k,j+20)},d?25:90)};o()},bc={},cc=[],dc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Wb.length}},ec=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},fc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((bc.x-b)/2),d.center.y=Math.round((bc.y-c)/2)+a.vGap.top,d.max.x=b>bc.x?Math.round(bc.x-b):d.center.x,d.max.y=c>bc.y?Math.round(bc.y-c)+a.vGap.top:d.center.y,d.min.x=b>bc.x?0:d.center.x,d.min.y=c>bc.y?a.vGap.top:d.center.y},gc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ba("parseVerticalMargin",a)),bc.x=b.x,bc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=bc.x/a.w,f=bc.y/a.h;a.fitRatio=e<f?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=ec())}if(!c)return;return fc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=ec(),a.initialPosition=a.bounds.center,a.bounds},hc=function(a,b,c,d,e,g){if(!b.loadError){var h,j=f.isDragging()&&!f.isZooming(),k=a===m||f.isMainScrollAnimating()||j;!e&&(G||i.alwaysFadeIn)&&k&&(h=!0),d&&(h&&(d.style.opacity=0),b.imageAppended=!0,kc(d,b.w,b.h),c.appendChild(d),h&&setTimeout(function(){d.style.opacity=1,g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500)},50))}},ic=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},jc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0},kc=function(a,b,c){a.style.width=b+"px",a.style.height=c+"px"},lc=function(){if(cc.length){for(var a,b=0;b<cc.length;b++)a=cc[b],a.holder.index===a.index&&hc(a.index,a.item,a.baseDiv,a.img);cc=[]}};xa("Controller",{publicMethods:{lazyLoadItem:function(a){a=ya(a);var b=Zb(a);!b||b.loaded||b.loading||(Ba("gettingData",a,b),b.src&&ic(b))},initController:function(){e.extend(i,dc,!0),f.items=Wb=c,Zb=f.getItemAt,$b=i.getNumItemsFn,_b=i.loop,$b()<3&&(i.loop=!1),Aa("beforeChange",function(a){var b,c=i.preload,d=null===a||a>0,e=Math.min(c[0],$b()),g=Math.min(c[1],$b());for(b=1;b<=(d?g:e);b++)f.lazyLoadItem(m+b);for(b=1;b<=(d?e:g);b++)f.lazyLoadItem(m-b)}),Aa("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Aa("mainScrollAnimComplete",lc),Aa("initialZoomInEnd",lc),Aa("destroy",function(){for(var a,b=0;b<Wb.length;b++)a=Wb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);cc=null})},getItemAt:function(a){return a>=0&&(void 0!==Wb[a]&&Wb[a])},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=ya(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Ba("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),jc(g),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.webkitBackfaceVisibility="hidden",d.style.opacity=1,d.src=g.src,kc(d,g.w,g.h),hc(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(c.img&&(c.img.style.webkitBackfaceVisibility="hidden"),a&&a.index===b){if(jc(c,!0))return c.loadComplete=c.img=null,gc(c,pa),Ga(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Yb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(ea||Yb)?cc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a}):hc(b,c,h,c.img,ea||Yb)}c.loadComplete=null,c.img=null,Ba("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),kc(l,g.w,g.h),h.appendChild(l),g.placeholder=l}g.loading||ic(g),f.allowProgressiveImg()&&(!Xb&&N.transform?cc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):hc(b,g,h,g.img,!0,!0))}gc(g,pa),Xb||b!==m?Ga(g):(da=h.style,ac(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var mc,nc={},oc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};xa("Tap",{publicMethods:{initTap:function(){Aa("firstTouchStart",f.onTapStart),Aa("touchRelease",f.onTapRelease),Aa("destroy",function(){nc={},mc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(mc),mc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!Za){var c=b;if(mc&&(clearTimeout(mc),mc=null,vb(c,nc)))return void Ba("doubleTap",c);if("mouse"===b.type)return void oc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void oc(a,b);Ka(nc,c),mc=setTimeout(function(){oc(a,b),mc=null},300)}}}});var pc;xa("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Aa("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){pc={};var c="wheel mousewheel DOMMouseScroll";Aa("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Aa("unbindEvents",function(){pc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),s<1?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Aa("resize",g),Aa("afterChange",g),Aa("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Aa("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(i.closeOnScroll?E&&Math.abs(a.deltaY)>2&&(l=!0,f.close()):a.preventDefault()),!0;if(a.stopPropagation(),pc.x=0,"deltaX"in a)1===a.deltaMode?(pc.x=18*a.deltaX,pc.y=18*a.deltaY):(pc.x=a.deltaX,pc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(pc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?pc.y=-.16*a.wheelDeltaY:pc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;pc.y=a.detail}Qa(s,!0);var b=oa.x-pc.x,c=oa.y-pc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc={history:!0,galleryUID:1},Dc=function(){return Ac.hash.substring(1)},Ec=function(){qc&&clearTimeout(qc),sc&&clearTimeout(sc)},Fc=function(){var a=Dc(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Wb.length;c++)if(Wb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Gc=function(){if(sc&&clearTimeout(sc),Za||U)return void(sc=setTimeout(Gc,500));tc?clearTimeout(rc):tc=!0;var a=m+1,b=Zb(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=wc+"&gid="+i.galleryUID+"&pid="+a;xc||Ac.hash.indexOf(c)===-1&&(zc=!0);var d=Ac.href.split("#")[0]+"#"+c;Bc?"#"+c!==window.location.hash&&history[xc?"replaceState":"pushState"]("",document.title,d):xc?Ac.replace(d):Ac.hash=c,xc=!0,rc=setTimeout(function(){tc=!1},60)};xa("History",{publicMethods:{initHistory:function(){if(e.extend(i,Cc,!0),i.history){Ac=window.location,zc=!1,yc=!1,xc=!1,wc=Dc(),Bc="pushState"in history,wc.indexOf("gid=")>-1&&(wc=wc.split("&gid=")[0],wc=wc.split("?gid=")[0]),Aa("afterChange",f.updateURL),Aa("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){vc=!0,yc||(zc?history.back():wc?Ac.hash=wc:Bc?history.pushState("",document.title,Ac.pathname+Ac.search):Ac.hash=""),Ec()};Aa("unbindEvents",function(){l&&a()}),Aa("destroy",function(){vc||a()}),Aa("firstUpdate",function(){m=Fc().pid});var b=wc.indexOf("pid=");b>-1&&(wc=wc.substring(0,b),"&"===wc.slice(-1)&&(wc=wc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Dc()===wc?(yc=!0,void f.close()):void(tc||(uc=!0,f.goTo(Fc().pid),uc=!1))},updateURL:function(){Ec(),uc||(xc?qc=setTimeout(Gc,800):Gc())}}}),e.extend(f,cb)};return a}),define("text!phxTml/html/phxTmlGallery/phxTmlGalleryInterstitialAd.html",[],function(){return'<div class="m-gallery-overlay--ad-interstitial m-advertisement">\n    <div class="m-advertisement--indicator" translate="ADVERTISEMENT"></div>\n    <div class="m-gallery-overlay--ad-interstitial-tap-handler"></div>\n</div>\n'}),define("phxTml/controllers/phxTmlGalleryInvite",["photoswipe/photoswipe","text!phxTml/html/phxTmlGallery/phxTmlGalleryInterstitialAd.html"],function(a,b){"use strict";return["phxTmlGalleryUi","phxImageOptions","Config","phxResponsiveSize",function(c,d,e,f){var g=this;this.addDeferAttribute=function(a){if(a.hasAttribute("tml-image"))a.setAttribute("defer",!0),a.defer=!0;else if(a.children.length>0)for(var b in a.children)angular.isDefined(a.children[b].nodeName)&&"#text"!==a.children[b].nodeName&&g.addDeferAttribute(a.children[b])},this.getImageSpecs=function(a){var b,c,e=d.getOptions("slideshowFullscreen"),f=a.w||a.width,g=a.h||a.height,h=f/g,i=h<=1,j=!i,k=e.width?e.width:f,l=e.height?e.height:g;return b=j&&f>k?k:f,c=!j&&g>l?l:g,j?c=Math.round(b/h):b=Math.round(c*h),{isLandscape:j,width:b,height:c}},this.getGalleryUID=function(a){return a[0].image?a[0].image.id:a[0].imageId},this.locationHashToObj=function(a){var b={},c=a.split("&");return angular.forEach(c,function(a,c){var d=a.split("=");d[1]&&(b[d[0]]=d[1])}),b},this.getImageIndex=function(a,b,c){var d;angular.forEach(b,function(b,c){a===b.pid&&(d=c)});var e=!d&&c?0:d;return e},this.getHashImageIndex=function(a,b){var c,d,e=this;return!(!a||!b.length)&&(c=this.locationHashToObj(a),d=c.gid===this.getGalleryUID(b)?c.pid?e.getImageIndex(c.pid,b,c.gid):0:!c.gid&&c.pid?e.getImageIndex(c.pid,b)||!1:e.getImageIndex(a,b))},this.injectInterstitialAds=function(a){var c=0,d=e.gallery.ads.interstitialFrequency[f.getName().toUpperCase()],g=b;if(!d||0===d)return a;for(var h=d;a.length>=h;)a.splice(h,0,{html:g,isAd:!0,isCompiled:!1,pid:"ad-"+h}),h+=d+1,c++;return 0===c&&a.length>=3&&a.push({html:g,isAd:!0,isCompiled:!1,pid:"ad-"+a.length+1}),a},this.slugify=function(a){var b;return b=new RegExp("[^a-z0-9-_]","g"),a.toLowerCase().replace(/\s+/g,"-").replace(b,"")},this.preloadFirstImage=function(a,b){var c=angular.element(new Image);c.prop("src",b[a].src)},this.initGallery=function(b,d){var e=angular.element(".m-gallery-overlay").get(0),h={showHideOpacity:!0,history:!0,closeOnScroll:!1,closeOnVerticalDrag:!1,arrowKeys:!1,allowPanToNext:!1,galleryUID:g.getGalleryUID(d),galleryPIDs:!0,spacing:"C"===f.getName()?1:.1,getDoubleTapZoom:function(a,b){var d=c.getSlideshow(),e=d.getZoomLevel();return e>b.initialZoomLevel?e:b.initialZoomLevel<.7?1:1.5}};h.index=b||0;var i=new a(e,c.initSlideshow(),d,h);i.init()}}]}),define("phxTml/directives/phxTmlGallery/phxTmlGalleryContainer",[],function(){"use strict";return["Config","phxTmlGalleryUi","phxResponsiveSize","$location","$compile","$timeout","$window","phxAdUtils","$rootScope","$interval",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"A",require:"^phxPage",scope:!0,link:function(e,k,l,m){function n(){W.addClass($),f(function(){W.removeClass($),W.removeClass(Y)},300)}function o(a){return angular.element(".m-gallery-overlay--ad-"+a).get(0)}function p(a,b){if(b||(b=o(a)),b){var c=b.querySelectorAll("phoenix-ad");c.forEach(function(a){b.removeChild(a)})}}function q(){angular.forEach(ga,function(a){p(a)})}function r(a){if(ba){if(ga.indexOf(a)===-1||!ha[a])throw new Error('A valid ad position must be provided. "'+a+'" is not in "'+ga.join('", "')+'".');var b=o(a);p(a,b),window.phxConfigQueue.push(function(){var c=ha[a],d=this.breakpoint.get(),e=[],f={interstitial:"gallery_interstitial",right:"gallery_sidebar",top:"gallery_top"};c.forEach(function(b){b&&b.slotConfig&&b.slotConfig.screenSizes[0]===d&&(b.slotConfig.model&&f[a]&&(b.slotConfig.model.zone=f[a]),e.push(b))}),e.forEach(function(c){var d=document.createElement("phoenix-ad");d.classList.add("m-advertisement"),d.setAttribute("config",JSON.stringify(c)),"interstitial"===a&&d.setAttribute("initial-index",ia),b.appendChild(d)}),"interstitial"===a&&ia++})}}function s(a){if(ba){var b=o(a),c=b.querySelector("phoenix-ad");c&&c.reload()}}function t(){for(var a=g.document.body,b=a,c=[];b.nextSibling;)b=b.nextSibling,c.push(b);return c=angular.element(c),c.hide(),c.remove(),c.length>0}function u(){return P.currItem.initialZoomLevel<P.getZoomLevel()}function v(a){u()||(37===a.keyCode?e.prev():39===a.keyCode&&e.next())}function w(a){"_blank"===P.currItem.linkTarget?g.open(P.currItem.linkHref,"_blank"):g.location.href=P.currItem.linkHref,y(a)}function x(a){P.toggleDesktopZoom(a)}function y(a){g.phoenixTrackClickEvent&&g.phoenixTrackClickEvent(P.currItem.container,a,"image-click"),g.googleAnalytics&&"_blank"===P.currItem.linkTarget&&g.googleAnalytics.sendEvent("Outbound Link","click",P.currItem.linkHref)}function z(){angular.element(".m-gallery-overlay--item").css({display:"block"})}function A(){f(function(){var a=angular.element(".m-gallery-overlay--active"),b=a.siblings();b.css({display:"none"}),a.css({display:"block"})})}function B(a){var b=angular.element(a.target||a.srcElement);if(b.hasClass("pswp__img"))L()?w(a):P.likelyTouchDevice||x(a.detail.releasePoint);else if(b.hasClass("m-gallery-overlay--ad-interstitial-tap-handler")){var c=b.parent().find("iframe").length<0?b.parent().find("iframe"):b.parent().find("object");c.trigger("click")}}function C(a){var b=angular.element(".m-gallery-overlay--tools").offset().top;return!(0!==b&&b<=a.y||k.hasClass("is-interstitial"))&&void x()}function D(a){var b=angular.element(a.target||a.srcElement);b.hasClass("m-gallery-overlay--close")&&e.close()}function E(){var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),b=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=P.currItem,d=P.getZoomLevel();(c.w*d<a*fa||c.h*d<b*fa)&&d>c.initialZoomLevel?(P.zoomTo(c.initialZoomLevel),k.removeClass("pswp--zoomed-in")):d<=c.initialZoomLevel?k.removeClass("pswp--zoomed-in"):k.addClass("pswp--zoomed-in")}function F(){z();var b=P.getItemAt(P.getCurrentIndex()-1);b&&b.isAd===!0&&p("interstitial",b.container.firstChild),a.gallery.ads.adTopEnabled&&!S&&(0===U||U>=ca)&&(s("top"),U=0,S=f(function(){S=void 0},ea)),a.gallery.ads.adRightEnabled&&!T&&(0===V||V>=da)&&(s("right"),V=0,T=f(function(){T=void 0},ea)),U++,V++,P.currItem.isAd&&r("interstitial"),k.toggleClass("is-interstitial",P.currItem.isAd||!1),A()}function G(){var a=angular.element(P.currItem.container);L()?(a.addClass(aa),a.find("img.pswp__img").css("border-bottom-width",4/P.getZoomLevel()+"px")):(a.removeClass(aa),a.find("img.pswp__img").css("border-bottom-width",0));var b=d.url().replace(/&pid=(\d+)/i,"&pid="+(P.getCurrentIndex()+1)),c=P&&P.currItem?P.currItem:{};c.viewProperties={analyticsModel:{pageType:"Gallery"},analytics:{collectionIndex:P&&P.getCurrentIndex?P.getCurrentIndex():0}},g.googleAnalytics&&g.googleAnalytics.sendPageView(b,c),angular.element("."+_).removeClass(_),angular.element(P.currItem.container).parent().addClass(_)}function H(){if(W.addClass(Y+" "+Z),X.on("keyup",v),f(function(){R=W.scrollTop(),k.parents().first().siblings().addClass("m-gallery-overlay--hide-siblings"),k.addClass("loaded"),W.removeClass(Z)},1e3),"A"===c.getName())var b=j(function(){var a=t();a&&j.cancel(b)},1e3,10);i.$broadcast("phxCollection:enterFullscreen",{element:k});var d=new Event("phxCollection:enterFullscreen");document.dispatchEvent(d),a.gallery.ads.adTopEnabled&&(r("top"),U=0,S=f(function(){S=void 0},ea)),a.gallery.ads.adRightEnabled&&(r("right"),V=0,T=f(function(){T=void 0},ea))}function I(){k.parents().first().siblings().removeClass("m-gallery-overlay--hide-siblings"),W.scrollTop(R),n(),X.off("keyup",v),k.removeClass("loaded"),q(),ia=0,i.$broadcast("phxCollection:exitFullscreen");var a=new Event("phxCollection:exitFullscreen");document.dispatchEvent(a)}function J(){var b=a.gallery.loopSlides||!0;
return b}function K(a){var b=a.vGap;b.top="A"===c.getName()?5:25,b.bottom=60}function L(){return!!P.currItem.linkHref}function M(){return W.hasClass(Y)}function N(){Q.bind(P.container,"pswpTap",B)}function O(a,b){P=a,Q=b,P.listen("parseVerticalMargin",K),P.listen("bindEvents",N),P.listen("beforeChange",F),P.listen("afterChange",G),P.listen("initialZoomIn",H),P.listen("initialZoomOut",I),P.listen("touchRelease",D),P.listen("doubleTap",C),P.listen("zoomGestureEnded",E)}var P,Q,R,S,T,U=0,V=0,W=angular.element("body").first(),X=angular.element(document),Y="m-gallery-overlay--isopen",Z="m-gallery-overlay--isloading",$="m-gallery-overlay--isclosing",_="m-gallery-overlay--active",aa="m-gallery-overlay--linked-image",ba=a.ad.enabled,ca=a.gallery.ads.adTopRefreshRate,da=a.gallery.ads.adRightRefreshRate,ea=a.gallery.ads.adRefreshDelay,fa=.9,ga=["top","right","interstitial"],ha=e.$eval(l.config),ia=0;b.watchSlideshowController(O),e.next=function(){var a=P.getCurrentIndex(),b=P.options.getNumItemsFn()-1;(J()||a<b)&&P.next()},e.prev=function(){var a=P.getCurrentIndex();(J()||a>0)&&P.prev()},e.close=function(){u()?x():P.close()},e.adRightEnabled="C"===c.getName()&&a.gallery.ads.adRightEnabled,e.adTopEnabled=a.gallery.ads.adTopEnabled&&!h.isContextSponsored(m);var ja=e.$on("$destroy",function(){b.unwatchSlideshowController(O),M()&&I(),ja()})}}}]}),define("phxTml/directives/phxTmlGallery/phxTmlGalleryPinIt",[],function(){"use strict";return["phxTmlGalleryUi","$filter","$location",function(a,b,c){return{restrict:"EA",template:'<button ng-hide="isAd" class="m-social--pinterest-pin-it" ng-click="pinImage()"><phoenix-icon-fallback icon="pinterest-pin-it" class="m-svg"><svg><use xlink:href="" ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\'+$root.appCacheBuster+\'#pinterest-pin-it\'}}"/></svg></phoenix-icon-fallback></button>',controller:["$scope","$element",function(a,d){var e,f=this,g=!1;a.pinImage=function(){window.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(c.absUrl())+"&amp;media="+encodeURIComponent(e.currItem.src)+"&amp;description="+b("phxStripHtml")(e.currItem.title||""),"pin"+(new Date).getTime(),"status=no,resizable=yes,scrollbars=yes,personalbar=no,directories=no,location=no,toolbar=no,menubar=no,width=632,height=270,left=0,top=0")},this.watchSlideshowController=function(a,b){e=a,e.listen("afterChange",f.updateButton)},this.updateButton=function(){var b=angular.element(e.currItem.container);a.isAd=e.currItem.isAd,d.css("top",b.position().top+"px"),d.css("left",b.position().left+"px"),f.initpinItBtntoggler()},this.initpinItBtntoggler=function(){if(!g){var a=angular.element(e.container);a.delegate(".pswp__img","mouseover mouseout",function(a){"mouseover"===a.type?d.css({opacity:1}):"mouseout"===a.type&&d.css({opacity:0})}),g=!0}}}],link:function(b,c,d,e){a.watchSlideshowController(e.watchSlideshowController)}}}]}),define("text!phxTml/html/phxTmlGallery/phxTmlGalleryTools.html",[],function(){return'<div class="m-gallery-overlay--tools" ng-class="{\'active\': showTools, \'has-caption\': hasCaption}">\n\n    <div class="m-gallery-overlay--toolbar">\n        <div class="m-gallery-overlay--counter m-gallery-overlay--tool">\n            <span class="m-gallery-overlay--counter-current">{{currentImageCount}}</span>\n            <span class="m-gallery-overlay--counter-separator">of</span>\n            <span class="m-gallery-overlay--counter-total">{{totalImageCount}}</span>\n        </div>\n\n        <button\n            aria-label="Toggle Social Tools"\n            class="m-gallery-overlay--toggle-social-tools m-gallery-overlay--tool m-icon-button"\n            ng-class="{\'active\': showSocialTools}" title="Toggle Social Tools">\n            <phoenix-icon-fallback icon="ico_share" class="m-svg m-gallery-overlay--toggle-social-tools-icon m-icon-button--icon">\n                <svg>\n                    <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_share\'}}" xlink:href=""></use>\n                </svg>\n            </phoenix-icon-fallback>\n        </button>\n\n        <div class="m-gallery-overlay--social-tools m-gallery-overlay--tool">\n\n            <phx-social-tools\n                content-item="socialContentItem"\n                show-social-tools-comment-button="false"\n                show-social-tools-print-button="false"></phx-social-tools>\n\n            <button\n                aria-label="Close Social Tools"\n                class="m-gallery-overlay--toggle-social-tools m-gallery-overlay--close-social-tools m-icon-button">\n                <phoenix-icon-fallback icon="ico_close" class="m-svg m-gallery-overlay--close-social-tools-icon m-icon-button--icon">\n                    <svg>\n                        <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_close\'}}" xlink:href=""></use>\n                    </svg>\n                </phoenix-icon-fallback>\n            </button>\n\n        </div>\n\n        <button\n            class="m-gallery-overlay--toggle-caption m-gallery-overlay--tool m-icon-button"\n            title="Toggle Caption" ng-class="{\'active\': showCaption}">\n            <phoenix-icon-fallback icon="ico_caption_toggle" class="m-svg m-gallery-overlay--toggle-caption-icon m-icon-button--icon">\n                <svg aria-hidden="true">\n                    <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_caption_toggle\'}}" xlink:href=""></use>\n                </svg>\n            </phoenix-icon-fallback>\n            <span ng-if="showCaption" translate="HIDE_INFO"></span>\n            <span ng-if="!showCaption" translate="SHOW_INFO"></span>\n        </button>\n    </div>\n\n    <div class="m-gallery-overlay--logo" phx-skin-bgimg="$root.config.logo.heading"></div>\n\n    <div class="m-gallery-overlay--caption" ng-class="{\'active\': showCaption}">\n        <div class="m-gallery-overlay--caption-title">{{imageTitle}}</div>\n        <div class="m-gallery-overlay--caption-text" phx-html="imageCaption"></div>\n        <div class="m-gallery-overlay--caption-attribution" ng-if="sourceName" itemprop="author">\n            <a ng-if="sourcePageUrl" ng-href="{{sourcePageUrl}}" ng-attr-target="{{sourcePageUrlTarget}}">{{sourceName}}</a>\n            <span ng-if="!sourcePageUrl">{{sourceName}}</span>\n        </div>\n    </div>\n\n</div>\n'}),define("phxTml/directives/phxTmlGallery/phxTmlGalleryTools",["text!phxTml/html/phxTmlGallery/phxTmlGalleryTools.html"],function(a){"use strict";return["phxTmlGalleryUi","$timeout","$filter","phxResponsiveSize","phxUtil",function(b,c,d,e,f){return{restrict:"EA",template:a,require:"^phxPage",link:function(a,g,h,i){function j(b){var c=angular.element(b.target||b.srcElement);c.hasClass("m-gallery-overlay--toggle-caption")?a.$apply(a.toggleCaption):c.hasClass("m-gallery-overlay--toggle-social-tools")&&a.$apply(a.toggleSocialTools)}function k(){}function l(){a.showSocialTools=!1,a.showCaption=!1,a.showTools=!1}function m(){t[(a.showCaption?"add":"remove")+"Class"]("caption-is-on")}function n(a){var b=s.filter(function(b){return b<=a});return a-b.length}function o(b){if(a.captionWasOpen){var d="is-hiding-caption-btn";b=b||300,g.addClass(d),c(function(){g.removeClass(d),a.captionWasOpen=!1},b)}}function p(){c(function(){a.showTools=!0,a.hasCaption=!!(r.currItem.title||r.currItem.caption||r.currItem.sourceName),a.showCaption=!(!a.captionWasOpen&&!a.showCaption),a.captionWasOpen=!!a.showCaption||o(),u&&(a.showCaption=!!a.hasCaption,u=!1),m(),a.currentImageCount=n(r.getCurrentIndex())+1,a.imageTitle=r.currItem.title,a.imageCaption=r.currItem.caption,a.sourceName=r.currItem.sourceName,a.sourcePageUrl=r.currItem.sourcePageUrl,a.sourcePageUrlTarget=f.getLinkTarget(r.currItem.sourcePageUrl),a.socialContentItem={path:i.page.masterItem.path+"#gid="+r.options.galleryUID,title:d("phxStripHtml")(r.currItem.title),primaryImage:r.currItem.image?r.currItem.image:r.currItem}})}function q(b,c){r=b,r.listen("beforeChange",p),r.listen("destroy",l),r.listen("close",k),r.listen("touchRelease",j),r.listen("zoomGestureEnded",function(){r.getZoomLevel()>r.currItem.initialZoomLevel&&a.$apply(function(){a.showCaption=!1,a.showSocialTools=!1})}),"A"!==e.getName()&&a.hasCaption&&(a.showCaption=!0),s=[],angular.forEach(r.items,function(a,b){(a.isAd&&a.isAd===!0||a.nextGallery)&&s.push(b)}),a.totalImageCount=r.options.getNumItemsFn()-s.length}var r,s=[],t=angular.element(".m-gallery-overlay"),u=!0;a.toggleSocialTools=function(){a.showCaption&&a.toggleCaption(),a.showSocialTools=!a.showSocialTools},a.toggleCaption=function(){a.showSocialTools&&a.toggleSocialTools(),a.showCaption=!a.showCaption,a.captionWasOpen=!!a.showCaption,m()},b.watchSlideshowController(q)}}}]}),define("text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryImageSlider.html",[],function(){return'<div class="m-longform-gallery--image-slides" ng-hide="isInterstitial">\n    <figure class="m-longform-gallery--image-slide" aria-describedby="caption-{{currentSlide}}" ng-show="slide.imageId === currentSlide" ng-repeat="slide in slides" aria-hidden="false" ng-if="slide.preload" >\n        <a ng-href="{{slide.linkHref}}" rel="{{slide.linkRel}}" target="{{slide.linkTarget}}"\n            ng-click="trackClickEvent($event)" phx-track-id="{{slide.linkTrackId}}">\n            <img\n                class="m-longform-gallery--image m-image" ng-class="{ \'mm-image--link\': slide.linkHref }" ng-src="{{slide.src}}" ng-attr-srcset="{{slide.srcSet}}" draggable="false" sizes="{{slide.sizes}}" alt="{{slide.altText}}" />\n        </a>\n    </figure>\n</div>\n'}),define("text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryThumbnails.html",[],function(){return'<div class="m-longform-gallery--thumbnails" role="tablist">\n    <div class="m-carousel" phx-carousel ng-class="{\'mm-carousel--is-centered\': !isStretched}" active-slide="currentSlide" hide-nav-btns="true">\n        <div class="m-carousel--content-wrapper">\n            <div class="m-carousel--content" phx-carousel-content>\n                <div class="m-longform-gallery--thumbnail" ng-class="{ \'is-active\': image.imageId === currentSlide }" ng-repeat="image in slides" ng-click="setCurrentSlide(image.imageId)" aria-describedby="caption-{{image.imageId}}" aria-controls="caption-{{image.imageId}}" role="tab" id="tab-{{image.imageId}}">\n                    <img ng-src="{{image.thumbnailSrc}}" alt="{{image.altText}}" />\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryCaptionSlider.html",[],function(){return'<div class="m-longform-gallery--captions" ng-class="{ \'is-collapsed\': isCollapsible && isCollapsed, \'is-expanded\': isCollapsible && !isCollapsed, \'is-loading-gallery\': !isLoaded }" ng-hide="isInterstitial">\n    <div class="m-longform-gallery--slide-caption" ng-show="slide.imageId === currentSlide" ng-repeat="slide in slides" aria-hidden="false" id="caption-{{slide.imageId}}" aria-labelledby="tab-{{slide.imageId}}" role="tabpanel">\n\n        <h3 class="m-longform-gallery--slide-caption-title" ng-if="slide.title">{{slide.title}}</h3>\n        <div class="m-longform-gallery--slide-caption-body" ng-if="slide.caption" ng-bind-html="slide.caption"></div>\n        <div class="m-longform-gallery--slide-caption-attribution" ng-if="slide.sourceName">\n            <span ng-if="slide.sourcePageUrl"><a ng-href="{{slide.sourcePageUrl}}">{{slide.sourceName}}</a></span>\n            <span ng-if="!slide.sourcePageUrl">{{slide.sourceName}}</span>\n        </div>\n    </div>\n\n    <div class="m-longform-gallery--captions-toggle" ng-if="isCollapsible">\n        <button\n            ng-click="toggleCaption()"\n            class="m-longform-gallery--captions-toggle-btn"\n            ng-class="{ \'is-active\': !isCollapsed }">\n            {{toggleBtnText}}\n            <phoenix-icon-fallback icon="ico_caret_down" class="m-svg m-longform-gallery--captions-toggle-btn-icon">\n                <svg aria-hidden="true">\n                    <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_caret_down\'}}" xlink:href=""></use>\n                </svg>\n            </phoenix-icon-fallback>\n        </button>\n    </div>\n</div>\n'}),define("text!phxTml/html/phxTmlLongformGallery/phxLongformGallerySocialSharing.html",[],function(){return'<div class="m-longform-gallery--social-share">\n    <button aria-label="Open Social Tools" ng-click="toggleSocialBtns()" ng-hide="isSocialButtonsExpanded" class="m-icon-button h-visible-a-only">\n        <phoenix-icon-fallback icon="ico_social_share" class="m-svg m-icon-button--icon">\n            <svg>\n                <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_social_share\'}}" xlink:href=""></use>\n            </svg>\n        </phoenix-icon-fallback>\n    </button>\n    <div class="m-longform-gallery--social-share-btns">\n        <phx-social-tools\n            class="mm-social--monochrome"\n            content-item="socialContentItem"\n            show-social-tools-comment-button="false"\n            show-social-tools-print-button="false"></phx-social-tools>\n        <button aria-label="Close Social Tools" ng-click="toggleSocialBtns()" ng-show="isSocialButtonsExpanded" class="m-icon-button h-visible-a-only">\n            <phoenix-icon-fallback icon="ico_close" class="m-svg m-icon-button--icon">\n                <svg>\n                    <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_close\'}}" xlink:href=""></use>\n                </svg>\n            </phoenix-icon-fallback>\n        </button>\n    </div>\n</div>\n'}),define("text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryCounter.html",[],function(){return'<div class="m-longform-gallery--counter">\n    <span>{{currentImageCount}}</span>\n    <span>/</span>\n    <span>{{totalImageCount}}</span>\n</div>\n'}),define("text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryNavigation.html",[],function(){return'<div class="m-longform-gallery--navigation" ng-hide="isInterstitial">\n    <fieldset class="m-longform-gallery--navigation-controls" aria-label="gallery buttons" aria-controls="{{galleryUID}}">\n        <button class="m-icon-button m-longform-gallery--nav-button" ng-click="previousSlide()" aria-label="previous">\n            <phoenix-icon-fallback icon="ico_angle_left" class="m-svg m-icon-button--icon">\n                <svg>\n                    <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_angle_left\'}}" xlink:href=""></use>\n                </svg>\n            </phoenix-icon-fallback>\n        </button>\n        <button class="m-icon-button m-longform-gallery--nav-button m-longform-gallery--nav-next-button" ng-click="nextSlide()" aria-label="next">\n            <phoenix-icon-fallback icon="ico_angle_right" class="m-svg m-icon-button--icon">\n                <svg>\n                    <use ng-attr-xlink:href="{{\'/assets-global/icons/svg-sprite.svg?\' + $root.appCacheBuster + \'#ico_angle_right\'}}" xlink:href=""></use>\n                </svg>\n            </phoenix-icon-fallback>\n        </button>\n    </fieldset>\n    <phx-longform-gallery-counter></phx-longform-gallery-counter>\n</div>\n'}),define("phxTml/directives/phxTmlLongformGallery",["text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryImageSlider.html","text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryThumbnails.html","text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryCaptionSlider.html","text!phxTml/html/phxTmlLongformGallery/phxLongformGallerySocialSharing.html","text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryCounter.html","text!phxTml/html/phxTmlLongformGallery/phxLongformGalleryNavigation.html"],function(a,b,c,d,e,f){"use strict";var g=["$location","$rootScope","$timeout","$window","phxUtil","Config","phxResponsiveSize","phxEvents","$filter",function(a,b,c,d,e,f,g,h,i){return{restrict:"A",require:"?^phxPage",scope:!0,controller:["$scope",function(b){function d(){var b=a.hash(),c={};if(b){var d=b.split("&");angular.forEach(d,function(a,b){if(a){var d=a.split("=");d[1]&&(c[d[0]]=d[1])}})}return c}function h(){var a=d();if(a&&a.pid)return k.getCurrentImage("pid",a.pid)}function i(){var a=n[b.viewport];return b.isInterstitial=!b.isInterstitial&&b.currentImageCount%a===0,b.isInterstitial&&c(function(){b.refreshAd("interstitial")}),b.isInterstitial}b.slides=[],b.imgSrc=[];var j,k=this,l=[],m=b.adConfig=f.gallery&&f.gallery.ads?f.gallery.ads:{},n=m.interstitialFrequency||{};this.registerImage=function(a){var c=e.slugify(a.pid);l.indexOf(c)!==-1&&(c=c+"-"+a.publicId),l.push(c),a.pid=c,b.slides.push(a),b.imgSrc[a.imageId]=a},this.getCurrentImage=function(a,c){var d=b.slides,e=function(a,b){for(var c=0;c<d.length;c++)if(d[c][a]===b)return{index:c,slide:d[c]}};return e(a,c)},b.setCurrentSlide=function(a){i()||(b.currentSlide=a)},b.setHash=function(){var c="gid="+b.galleryUID+"&pid="+k.getCurrentImage("imageId",b.currentSlide).slide.pid;a.hash(c)},b.previousSlide=function(){j="left",1===b.currentImageCount?b.setCurrentSlide(b.slides[b.slides.length-1].imageId):b.setCurrentSlide(b.slides[b.currentImageCount-2].imageId)},b.nextSlide=function(){j="right",b.currentImageCount===b.slides.length?b.setCurrentSlide(b.slides[0].imageId):b.setCurrentSlide(b.slides[b.currentImageCount].imageId)},b.skipAd=function(){"left"===j?b.previousSlide():b.nextSlide()},b.setViewport=function(){b.viewport=g.getName(),"A"!==b.viewport&&(b.isSocialButtonsExpanded=!1)},b.preLoadSlides=function(a){function c(a){b.slides[a]&&!b.slides[a].preload&&(b.slides[a].preload=!0)}var d=k.getCurrentImage("imageId",b.currentSlide||a).index;c(d-1),c(d),c(d+1)},b.initGallery=function(){var a=h(),c=a&&a.slide?a.slide.imageId:b.slides[0].imageId;b.preLoadSlides(c),b.setViewport(),b.setCurrentSlide(c)}}],link:function(e,f,g,j){e.galleryUID=g.id,e.setSocialContentItem=function(){e.socialContentItem={path:j.page.masterItem.path+"#gid="+e.galleryUID,title:i("phxStripHtml")(e.imgSrc[e.currentSlide].altText),primaryImage:e.imgSrc[e.currentSlide]}},e.galleryAds={galleryTop:f.find('phoenix-ad[type="gallery_top"]'),interstitial:f.find('phoenix-ad[type="gallery_interstitial"]')},e.refreshAd=function(a){var b=a?"interstitial":"galleryTop";e.galleryAds[b]&&e.galleryAds[b].length&&angular.forEach(e.galleryAds[b],function(a){a.offsetParent&&a.reload()})},e.initGallery(),e.setSocialContentItem();var k,l,m,n=e.adConfig.adRefreshDelay,o=0,p=function(){"C"===e.viewport?(l=e.adConfig.adRightEnabled,m=e.adConfig.adRightRefreshRate):(l=e.adConfig.adTopEnabled,m=e.adConfig.adTopRefreshRate),l&&(o++,o>=m&&!k&&(e.refreshAd(),o=0,k=c(function(){k=void 0},n)))},q=function(){var b=a.url(),c=e.imgSrc[e.currentSlide];c.viewProperties={analytics:{collectionIndex:e.currentImageCount-1},analyticsModel:{path:b,pageType:"Gallery"}},d.googleAnalytics&&d.googleAnalytics.sendPageView(b,c)},r=function(){b.$evalAsync(function(){var a;"function"==typeof Event?a=new Event("contentAdded"):(a=document.createEvent("Event"),a.initEvent("contentAdded",!0,!0)),d.dispatchEvent(a)})},s=e.$watch("currentSlide",function(a,b){a!==b&&(e.setHash(),e.setSocialContentItem(),p(),q(),r())}),t=h.$on("resize",e.setViewport),u=e.$watch("viewport",function(a,b){a&&e.refreshAd()});e.$on("$destroy",function(){s(),t(),u()})}}}],h=["$sce",function(a){return{restrict:"E",require:"^phxLongformGallery",link:function(b,c,d,e){e.registerImage({altText:d.altText,caption:a.trustAsHtml(d.captionHtml),h:d.fullHeight,imageId:d.imageId,linkHref:d.imageLinkHref||void 0,linkRel:d.imageLinkRel||void 0,linkTarget:d.imageLinkTarget||void 0,linkTrackId:d.imageLinkHref?"image-click":void 0,pid:d.imageSlug,publicId:d.publicId,sizes:d.sizes,sourceName:d.sourceName,sourcePageUrl:d.sourcePageUrl,src:d.fullSrc,srcSet:d.srcset,thumbnailSrc:d.thumbnail,title:d.title,w:d.fullWidth})}}}],i=[function(){return{restrict:"A",template:b,require:"^phxLongformGallery",link:function(a,b,c,d){a.isStretched=!0}}}],j=["$window",function(b){return{restrict:"A",template:a,replace:!0,require:"^phxLongformGallery",link:function(a,c,d,e){var f=a.$watch("currentSlide",function(b,c){a.preLoadSlides()});a.trackClickEvent=function(a){var c=a&&a.currentTarget,d=c.getAttribute("href");d&&b.phoenixTrackClickEvent(c,a.originalEvent)},a.$on("$destroy",function(){f()})}}}],k=["$timeout","$translate",function(a,b){return{restrict:"A",template:c,require:"^phxLongformGallery",replace:!0,link:function(c,d,e,f){var g=c.toggleBtnText=b.instant("READ_MORE"),h=b.instant("SEE_LESS"),i=function(){c.toggleBtnText=c.isCollapsed?g:h};c.toggleCaption=function(){c.isCollapsed=!c.isCollapsed,i()};var j=function(){a(function(){c.isCollapsible=c.isCollapsed=d[0].scrollHeight>400,i(),c.isLoaded=!0})};j()}}}],l=[function(){return{restrict:"A",template:f,replace:!0,require:"^phxLongformGallery",link:function(a,b,c,d){}}}],m=[function(){return{restrict:"A",template:d,replace:!0,require:"^phxLongformGallery",link:function(a,b,c,d){a.toggleSocialBtns=function(){a.isSocialButtonsExpanded=!a.isSocialButtonsExpanded}}}}],n=["$timeout",function(a){return{restrict:"E",template:e,require:"^phxLongformGallery",replace:!0,link:function(b,c,d,e){var f=function(){b.currentImageCount=e.getCurrentImage("imageId",b.currentSlide).index+1};a(function(){f(),b.totalImageCount=b.slides.length});var g=b.$watch("currentSlide",function(a,b){a!==b&&f()});b.$on("$destroy",function(){g()})}}}];return{phxLongformGallery:g,phxLongformGalleryImage:h,phxLongformGalleryImageSlider:j,phxLongformGalleryThumbnails:i,phxLongformGalleryCaptionSlider:k,phxLongformGalleryNavigation:l,phxLongformGalleryCounter:n,phxLongformGallerySocialSharing:m}}),define("phxTml/module",["phxTml/services/phxMapService","phxTml/services/phxTmlGalleryUi","phxTml/controllers/phxTmlGalleryInvite","phxTml/directives/phxTmlGallery/phxTmlGalleryContainer","phxTml/directives/phxTmlGallery/phxTmlGalleryPinIt","phxTml/directives/phxTmlGallery/phxTmlGalleryTools","phxTml/directives/phxTmlLongformGallery"],function(a,b,c,d,e,f,g){"use strict";var h=angular.module("phxTml",["phxConfig","phxCore"]);return h.controller("phxTmlGalleryInvite",c),h.service("phxMapService",a),h.service("phxTmlGalleryUi",b),h.directive("phxTmlGalleryContainer",d),h.directive("phxTmlGalleryPinIt",e),h.directive("phxTmlGalleryTools",f),h.directive("phxLongformGallery",g.phxLongformGallery),h.directive("phxLongformGalleryImage",g.phxLongformGalleryImage),h.directive("phxLongformGalleryImageSlider",g.phxLongformGalleryImageSlider),h.directive("phxLongformGalleryThumbnails",g.phxLongformGalleryThumbnails),h.directive("phxLongformGalleryCaptionSlider",g.phxLongformGalleryCaptionSlider),h.directive("phxLongformGalleryNavigation",g.phxLongformGalleryNavigation),h.directive("phxLongformGalleryCounter",g.phxLongformGalleryCounter),h.directive("phxLongformGallerySocialSharing",g.phxLongformGallerySocialSharing),h}),define("main-module",["phxAds/module","phxConfig/module","phxCore/module","phxTml/module"],function(){"use strict";angular.module("phoenix",["phxAds","phxConfig","phxCore","phxTml"])}),define("main",["main-module"],function(){"use strict";window.phxConfigQueue.push(function(){function a(){if(!d){d=!0;var a=window.performance;a&&a.mark||(a={mark:angular.noop,measure:angular.noop}),a.mark("angular.bootstrap:begin"),angular.bootstrap(document.documentElement,[c,"phoenix"],{strictDi:!0}),a.mark("angular.bootstrap:end"),a.measure("angular.bootstrap","angular.bootstrap:begin","angular.bootstrap:end")}}var b=this,c=["$provide",function(a){a.constant("bootstrapConfig",b)}],d=!1;angular.element(document).ready(a),setTimeout(a,5e3)})});
//# sourceMappingURL=app.min.js.map